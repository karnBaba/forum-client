(this["webpackJsonpforum-client"]=this["webpackJsonpforum-client"]||[]).push([[0],{60:function(e,n,t){e.exports={white:"#fff",light:"#aeb6be",lighter:"#ece6f3",dark:"#676869",darker:"#22263f",blue:"#2878c4","blue-light":"#3b98e2","icon-smlst":"12px","icon-sm":"16px","icon-md":"24px","icon-md-plus":"26px","icon-lg":"32px"}},68:function(e,n){},71:function(e,n,t){e.exports=t(99)},93:function(e,n,t){e.exports={white:"#fff",light:"#aeb6be",lighter:"#ece6f3",dark:"#676869",darker:"#22263f",blue:"#2878c4","blue-light":"#3b98e2","icon-smlst":"12px","icon-sm":"16px","icon-md":"24px","icon-md-plus":"26px","icon-lg":"32px"}},99:function(e,n,t){"use strict";t.r(n);var r=t(54),a=t.n(r),i=t(0),o=t.n(i),c=t(55),u=t(13),s=t(2),l=t(30),m=t(69),f=t(23),d=t(19),h=t(70),p=t(59),g=t(58),b=t(5),v=null,x=function(){return new f.ApolloLink((function(e,n){return new d.a((function(t){var r;return Promise.resolve(e).then((function(e){return function(e){var n=localStorage.getItem("token");e.setContext({headers:{authorization:n}})}(e)})).then((function(){r=n(e).subscribe({next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})})).catch(t.error.bind(t)),function(){r&&r.unsubscribe()}}))}))},E=function(e){var n=e.authLink,t=e.uploadLink,r=e.wsLink,a=new m.a,i=Object(h.a)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&console.log("graphQLErrors",n),t&&console.log("networkError",t)}));r.subscriptionClient.maxConnectTimeGenerator.duration=function(){return r.subscriptionClient.maxConnectTimeGenerator.max};var o=Object(f.split)((function(e){var n=e.query,t=Object(b.l)(n),r=t.kind,a=t.operation;return"OperationDefinition"===r&&"subscription"===a}),r,t),c={cache:a,link:f.ApolloLink.from([i,n,o])};return new l.a(c)},w=t(16),O={user:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_AUTH_USER":return Object(w.a)({},e,{user:n.payload});case"CLEAR_AUTH_USER":return Object(w.a)({},e,{},O);default:return e}},y={content:{type:"",text:"",autoClose:!0}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_MESSAGE":return Object(w.a)({},e,{content:{type:n.payload.type,text:n.payload.text,autoClose:n.payload.autoClose}});case"CLEAR_MESSAGE":return Object(w.a)({},e,{},y);default:return e}},I=o.a.createContext(),C={message:y,auth:O},z=function(e,n){return{message:k(e.message,n),auth:j(e.auth,n)}},S=function(e){var n=e.children;return o.a.createElement(I.Provider,{value:Object(i.useReducer)(z,C)},n)},U=function(){return Object(i.useContext)(I)},M=t(8),R=t.n(M),A=t(20),N=t(12),P=t(4),$=t(14),T=t(11),q=t(29),D=t(1),F=t(10),_=t.n(F);function L(){var e=Object(D.a)(["\n  mutation($input: DeletePostInput!) {\n    deletePost(input: $input) {\n      id\n    }\n  }\n"]);return L=function(){return e},e}function W(){var e=Object(D.a)(["\n  query($id: ID!) {\n    getPost(id: $id) {\n      id\n      title\n      image\n      createdAt\n      ","\n      ","\n      ","\n    }\n  }\n"]);return W=function(){return e},e}function Q(){var e=Object(D.a)(["\n  query($authUserId: ID!, $skip: Int, $limit: Int) {\n    getPosts(authUserId: $authUserId, skip: $skip, limit: $limit) {\n      count\n      posts {\n        id\n        title\n        image\n        ","\n        ","\n        ","\n      }\n    }\n  }\n"]);return Q=function(){return e},e}function K(){var e=Object(D.a)(["\n  query($userId: String!, $skip: Int, $limit: Int) {\n    getFollowedPosts(userId: $userId, skip: $skip, limit: $limit) {\n      count\n      posts {\n        id\n        title\n        image\n        imagePublicId\n        createdAt\n        ","\n        ","\n        ","\n      }\n    }\n  }\n"]);return K=function(){return e},e}function B(){var e=Object(D.a)(["\n  mutation($input: CreatePostInput!) {\n    createPost(input: $input) {\n      id\n    }\n  }\n"]);return B=function(){return e},e}var G="\n  comments {\n    id\n    comment\n    author {\n      id\n      username\n      fullName\n      image\n    }\n  }\n",H="\n  author {\n    id\n    username\n    fullName\n    image\n    following {\n      id\n      user\n    }\n    followers {\n      id\n      user\n    }\n    notifications {\n      id\n      author {\n        id\n        username\n      }\n      follow {\n        id\n      }\n      like {\n        id\n      }\n      comment {\n        id\n      }\n    }\n  }\n",J="\n  likes {\n    id\n    user\n    post\n  }\n",V=_()(B()),Z=_()(K(),H,G,J),Y=_()(Q(),H,G,J),X=_()(W(),H,G,J),ee=_()(L());function ne(){var e=Object(D.a)(["\n  subscription($authUserId: ID!, $userId: ID!) {\n    isUserOnline(authUserId: $authUserId, userId: $userId) {\n      userId\n      isOnline\n    }\n  }\n"]);return ne=function(){return e},e}function te(){var e=Object(D.a)(["\n  query($authUserId: ID!) {\n    getConversations(authUserId: $authUserId) {\n      id\n      username\n      fullName\n      image\n      isOnline\n      seen\n      lastMessage\n      lastMessageSender\n      lastMessageCreatedAt\n    }\n  }\n"]);return te=function(){return e},e}function re(){var e=Object(D.a)(["\n  query($userId: String!) {\n    suggestPeople(userId: $userId) {\n      id\n      fullName\n      username\n      image\n    }\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(D.a)(["\n  mutation($input: ResetPasswordInput!) {\n    resetPassword(input: $input) {\n      token\n    }\n  }\n"]);return ae=function(){return e},e}function ie(){var e=Object(D.a)(["\n  query($email: String!, $token: String!) {\n    verifyResetPasswordToken(email: $email, token: $token) {\n      message\n    }\n  }\n"]);return ie=function(){return e},e}function oe(){var e=Object(D.a)(["\n  mutation($input: RequestPasswordResetInput!) {\n    requestPasswordReset(input: $input) {\n      message\n    }\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(D.a)(["\n  mutation($input: SignInInput!) {\n    signin(input: $input) {\n      token\n    }\n  }\n"]);return ce=function(){return e},e}function ue(){var e=Object(D.a)(["\n  mutation($input: SignUpInput!) {\n    signup(input: $input) {\n      token\n    }\n  }\n"]);return ue=function(){return e},e}function se(){var e=Object(D.a)(["\n  mutation($input: UploadUserPhotoInput!) {\n    uploadUserPhoto(input: $input) {\n      id\n    }\n  }\n"]);return se=function(){return e},e}function le(){var e=Object(D.a)(["\n  query($searchQuery: String!) {\n    searchUsers(searchQuery: $searchQuery) {\n      id\n      fullName\n      username\n      image\n    }\n  }\n"]);return le=function(){return e},e}function me(){var e=Object(D.a)(["\n  query($userId: String!, $skip: Int, $limit: Int) {\n    getUsers(userId: $userId, skip: $skip, limit: $limit) {\n      count\n      users {\n        id\n        fullName\n        username\n        image\n        following {\n          id\n          user\n        }\n        followers {\n          id\n        }\n        notifications {\n          id\n          author {\n            id\n            username\n          }\n          follow {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return me=function(){return e},e}function fe(){var e=Object(D.a)(["\n  query {\n    getAuthUser {\n      ","\n      newNotifications {\n        id\n        createdAt\n        author {\n          id\n          fullName\n          username\n          image\n        }\n        follow {\n          id\n        }\n        comment {\n          id\n          post {\n            id\n            image\n          }\n        }\n        like {\n          id\n          post {\n            id\n            image\n          }\n        }\n      }\n      newConversations {\n        id\n        username\n        fullName\n        image\n        lastMessage\n        lastMessageCreatedAt\n      }\n      likes {\n        id\n        user\n        post\n      }\n      posts {\n        id\n      }\n      following {\n        id\n        user\n      }\n      followers {\n        id\n      }\n    }\n  }\n"]);return fe=function(){return e},e}function de(){var e=Object(D.a)(["\n  query($username: String!, $skip: Int, $limit: Int) {\n    getUserPosts(username: $username, skip: $skip, limit: $limit) {\n      count\n      posts {\n        id\n        title\n        image\n        imagePublicId\n        createdAt\n        ","\n        ","\n        ","\n      }\n    }\n  }\n"]);return de=function(){return e},e}function he(){var e=Object(D.a)(["\n  query($username: String, $id: ID) {\n    getUser(username: $username, id: $id) {\n      ","\n      isOnline\n      posts {\n        id\n      }\n      following {\n        id\n      }\n      followers {\n        id\n      }\n      notifications {\n        id\n        author {\n          id\n          username\n        }\n        follow {\n          id\n        }\n        like {\n          id\n        }\n        comment {\n          id\n        }\n      }\n    }\n  }\n"]);return he=function(){return e},e}var pe="\n  id\n  username\n  email\n  fullName\n  image\n  imagePublicId\n  coverImage\n  coverImagePublicId\n  createdAt\n",ge=_()(he(),pe),be=_()(de(),H,G,J),ve=_()(fe(),pe),xe=_()(me()),Ee=_()(le()),we=_()(se()),Oe=_()(ue()),je=_()(ce()),ye=_()(oe()),ke=_()(ie()),Ie=_()(ae()),Ce=(_()(re()),_()(te())),ze=_()(ne());function Se(){var e=Object(D.a)(["\n  mutation($input: UpdateMessageSeenInput!) {\n    updateMessageSeen(input: $input)\n  }\n"]);return Se=function(){return e},e}function Ue(){var e=Object(D.a)(["\n  subscription {\n    newConversation {\n      id\n      username\n      fullName\n      image\n      isOnline\n      seen\n      lastMessage\n      lastMessageSender\n      lastMessageCreatedAt\n    }\n  }\n"]);return Ue=function(){return e},e}function Me(){var e=Object(D.a)(["\n  mutation($input: CreateMessageInput!) {\n    createMessage(input: $input) {\n      id\n      isFirstMessage\n    }\n  }\n"]);return Me=function(){return e},e}function Re(){var e=Object(D.a)(["\n  subscription($authUserId: ID!, $userId: ID!) {\n    messageCreated(authUserId: $authUserId, userId: $userId) {\n      id\n      receiver {\n        id\n        username\n        fullName\n        image\n        createdAt\n      }\n      sender {\n        id\n        username\n        fullName\n        image\n        createdAt\n      }\n      message\n      createdAt\n    }\n  }\n"]);return Re=function(){return e},e}function Ae(){var e=Object(D.a)(["\n  query($authUserId: ID!, $userId: ID!) {\n    getMessages(authUserId: $authUserId, userId: $userId) {\n      id\n      receiver {\n        id\n        username\n        fullName\n        image\n        createdAt\n      }\n      sender {\n        id\n        username\n        fullName\n        image\n        createdAt\n      }\n      message\n      createdAt\n    }\n  }\n"]);return Ae=function(){return e},e}var Ne=_()(Ae()),Pe=_()(Re()),$e=_()(Me()),Te=_()(Ue()),qe=_()(Se());function De(){var e=Object(D.a)(["\n  subscription {\n    notificationCreatedOrDeleted {\n      operation\n      notification {\n        ","\n      }\n    }\n  }\n"]);return De=function(){return e},e}function Fe(){var e=Object(D.a)(["\n  mutation($input: UpdateNotificationSeenInput!) {\n    updateNotificationSeen(input: $input)\n  }\n"]);return Fe=function(){return e},e}function _e(){var e=Object(D.a)(["\n  query($userId: ID!, $skip: Int, $limit: Int) {\n    getUserNotifications(userId: $userId, skip: $skip, limit: $limit) {\n      count\n      notifications {\n        ","\n      }\n    }\n  }\n"]);return _e=function(){return e},e}function Le(){var e=Object(D.a)(["\n  mutation($input: DeleteNotificationInput!) {\n    deleteNotification(input: $input) {\n      id\n    }\n  }\n"]);return Le=function(){return e},e}function We(){var e=Object(D.a)(["\n  mutation($input: CreateNotificationInput!) {\n    createNotification(input: $input) {\n      id\n    }\n  }\n"]);return We=function(){return e},e}var Qe="\n  id\n  createdAt\n  author {\n    id\n    fullName\n    username\n    image\n  }\n  follow {\n    id\n  }\n  comment {\n    id\n    post {\n      id\n      image\n    }\n  }\n  like {\n    id\n    post {\n      id\n      image\n    }\n  }\n",Ke=_()(We()),Be=_()(Le()),Ge=_()(_e(),Qe),He=_()(Fe()),Je=_()(De(),Qe),Ve=t(25),Ze="/static/fonts/icons/".concat("solid.svg"),Ye=t(60),Xe=t.n(Ye),en=(t(93),Object.keys(Xe.a).filter((function(e){return e.startsWith("icon-")})).map((function(e){return e.replace("icon-","")}))),nn=function e(n){var t=n.className,r=n.icon,a=n.style,i=n.size,c=n.fillcolor;en.includes(i)||(i="sm");var u=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){if(!n)return e;if("object"===typeof n){var t=Object.keys(n).filter((function(e){return"function"==typeof n[e]?n[e]():n[e]}));return t.length>0?[].concat(Object(A.a)(e),Object(A.a)(t)):e}return[].concat(Object(A.a)(e),[n])}),[]).join(" ")}(e.displayName,t,Object(Ve.a)({},"".concat(e.displayName,"--size-").concat(i),en.includes(i)));return o.a.createElement("svg",{className:"".concat(u),name:"icon-".concat(r),fill:c||"#676869",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",focusable:!1,style:a},o.a.createElement("use",{xlinkHref:"".concat(Ze,"#").concat(r)}))};function tn(){var e=Object(D.a)(["\n  position: fixed;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  background-color: rgba(\n    0,\n    0,\n    0,\n    ","\n  );\n"]);return tn=function(){return e},e}function rn(){var e=Object(D.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n  ","\n  @media (max-width: ",") {\n    ","\n  }\n"]);return rn=function(){return e},e}function an(){var e=Object(D.a)(["\n  position: relative;\n  margin: 0 auto;\n  width: 100%;\n  z-index: ",";\n  min-height: 500px;\n  @media (min-width: ",") {\n    width: ",";\n  }\n  @media (min-width: ",") {\n    width: ",";\n  }\n"]);return an=function(){return e},e}function on(){var e=Object(D.a)(["\n  position: relative;\n  margin: 0 auto;\n  width: 100%;\n  max-width: ",";\n  margin-top: ",";\n  padding: ",";\n  z-index: ",";\n  background-color: ",";\n  border-radius: ",";\n"]);return on=function(){return e},e}nn.displayName="Icon",nn.defaultProps={className:"",style:{},size:"sm",fillcolor:""};var cn=s.c.div(on(),(function(e){return e.maxWidth&&e.theme.screen[e.maxWidth]}),(function(e){return e.marginTop?e.theme.spacing[e.marginTop]:0}),(function(e){return e.padding?"0 ".concat(e.theme.spacing[e.padding]):"0 ".concat(e.theme.spacing.sm)}),(function(e){return e.zIndex&&e.theme.zIndex[e.zIndex]}),(function(e){return e.color&&e.theme.colors[e.color]}),(function(e){return e.radius&&e.theme.radius[e.radius]})),un=s.c.div(an(),(function(e){return e.zIndex&&e.theme.zIndex[e.zIndex]}),(function(e){return e.theme.screen.md}),(function(e){return e.theme.screen.xs}),(function(e){return e.theme.screen.lg}),(function(e){return e.theme.screen.sm})),sn=s.c.div(rn(),(function(e){return e.top&&"margin-top: ".concat(e.theme.spacing[e.top])}),(function(e){return e.right&&"margin-right: ".concat(e.theme.spacing[e.right])}),(function(e){return e.bottom&&"margin-bottom: ".concat(e.theme.spacing[e.bottom])}),(function(e){return e.left&&"margin-left: ".concat(e.theme.spacing[e.left])}),(function(e){return e.inline&&"display: inline-block;"}),(function(e){return e.theme.screen.sm}),(function(e){return e.hideOnSm&&"\n      display: none;\n    "})),ln=s.c.div(tn(),(function(e){return e.theme.zIndex.md}),(function(e){return e.transparency?e.transparency:"0.8"})),mn=t(27);function fn(){var e=Object(D.a)(["\n  display: block;\n  border-radius: ",";\n  padding: "," ",";\n  background-color: ",";\n  border: 1px solid ",";\n"]);return fn=function(){return e},e}function dn(){var e=Object(D.a)(["\n  outline: 0;\n  height: 50px;\n  width: 100%;\n  resize: none;\n  border: 0;\n  padding-left: ",";\n  padding-top: ",";\n  color: ",";\n  font-size: ",";\n  &::placeholder {\n    color: ",";\n  }\n"]);return dn=function(){return e},e}function hn(){var e=Object(D.a)(["\n  outline: 0;\n  height: 36px;\n  width: 100%;\n  transition: border 0.1s;\n  border-radius: ",";\n  padding-left: ",";\n  border: 1px solid\n    ",";\n  color: ",";\n  &:focus {\n    border-color: ",";\n  }\n"]);return hn=function(){return e},e}function pn(){var e=Object(D.a)(["\n  letter-spacing: 0.5px;\n  outline: 0;\n  transition: opacity 0.1s;\n  border: 0;\n  color: ",";\n  font-size: ",";\n  border-radius: ",";\n  padding: "," ",";\n  background-color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  font-weight: ",";\n  white-space: nowrap;\n  align-self: flex-start;\n  ",";\n  ",";\n  ",";\n  ",";\n  ","\n"]);return pn=function(){return e},e}function gn(){var e=Object(D.a)(["\n  letter-spacing: 0.5px;\n  outline: 0;\n  transition: opacity 0.1s;\n  border: 0;\n  color: ",";\n  font-size: ",";\n  border-radius: ",";\n  padding: "," ",";\n  background-color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  font-weight: ",";\n  white-space: nowrap;\n  align-self: flex-start;\n  ",";\n  ",";\n  ",";\n   ",";\n  ","\n"]);return gn=function(){return e},e}var bn=s.c.button(gn(),(function(e){return e.theme.colors.white}),(function(e){return e.size?e.theme.font.size[e.size]:e.theme.font.size.xs}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.sm}),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.primary.main}),(function(e){return e.weight?e.theme.font.weight[e.weight]:e.theme.font.weight.normal}),(function(e){return e.disabled&&"\n    background-color: ".concat(e.theme.colors.grey[500],";\n    cursor: not-allowed;\n  ")}),(function(e){return!e.disabled&&"\n    &:hover {\n      opacity .9;\n      cursor: pointer;\n    }\n  "}),(function(e){return e.text&&"\n    color: ".concat(e.color?Object(mn.get)(e.theme.colors,e.color):e.theme.colors.text.secondary,";\n    border-radius: 0;\n    background-color: transparent;\n  ")}),(function(e){return e.ghost&&"\n    color: ".concat(e.color?Object(mn.get)(e.theme.colors[e.color]):e.theme.colors.text.secondary,";\n    border-radius: 0;\n    background-color: transparent;\n    padding: 0;\n    text-align: left;\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),vn=s.c.button(pn(),(function(e){return e.theme.colors.white}),(function(e){return e.size?e.theme.font.size[e.size]:e.theme.font.size.xs}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.sm}),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.secondary.main}),(function(e){return e.weight?e.theme.font.weight[e.weight]:e.theme.font.weight.normal}),(function(e){return e.disabled&&"\n    background-color: ".concat(e.theme.colors.grey[500],";\n    cursor: not-allowed;\n  ")}),(function(e){return!e.disabled&&"\n    &:hover {\n      opacity .9;\n      cursor: pointer;\n      background-color: ".concat((function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.secondary.mainhover}),";\n    }\n  ")}),(function(e){return e.text&&"\n    color: ".concat(e.color?Object(mn.get)(e.theme.colors,e.color):e.theme.colors.text.secondary,";\n    border-radius: 0;\n    background-color: transparent;\n  ")}),(function(e){return e.ghost&&"\n    color: ".concat(e.color?Object(mn.get)(e.theme.colors[e.color]):e.theme.colors.text.secondary,";\n    border-radius: 0;\n    background-color: transparent;\n    padding: 0;\n    text-align: left;\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),xn=s.c.input(hn(),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.spacing.xs}),(function(e){return e.borderColor?e.theme.colors[e.borderColor]:e.theme.colors.border.main}),(function(e){return e.theme.colors.text.secondary}),(function(e){return e.theme.colors.border.main})),En=s.c.textarea(dn(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.text.main}),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.colors.text.secondary})),wn=(s.c.form(fn(),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.spacing.lg}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.border.main})),{font:{family:"Arial, Helvetica, sans-serif",weight:{light:"300",normal:"400",bold:"600"},size:{tiny:"11px",xxs:"13px",xs:"14px",sm:"16px",md:"18px",lg:"20px",xl:"34px"}},colors:{black:"#000000",white:"#fff",success:"#34a853",body:"#fcfbfe",primary:{light:"#7986cb",main:"#2178c4",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#90EE90",dark:"#c51162",contrastText:"#fff",mainhover:"#3CB37"},text:{primary:"#22263f",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},border:{light:"#f5f5f5",main:"#e0e0e0",dark:"#bdbdbd"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},warning:"#FFB818",info:"#4169E1",grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"}},shadows:{sm:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",md:"rgba(0, 0, 0, 0.3) 0px 1px 8px 0px",lg:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",xl:"0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)"},screen:{xs:"540px",sm:"640px",md:"1007px",lg:"1100px",xl:"1230px"},spacing:{none:0,xxs:"5px",xs:"10px",sm:"20px",md:"30px",lg:"40px",xl:"60px"},radius:{sm:"3px",md:"6px",lg:"12px"},zIndex:{xs:10,sm:20,md:30,lg:40,xl:50}}),On={SUCCESS:"SUCCESS",INFO:"INFO",WARNING:"WARNING",ERROR:"ERROR"};Object.keys(On);function jn(){var e=Object(D.a)(["\n  position: absolute;\n  right: 20px;\n  top: 24px;\n"]);return jn=function(){return e},e}function yn(){var e=Object(D.a)(["\n  position: fixed;\n  width: 100%;\n  box-shadow: ",";\n  padding: ",";\n  z-index: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  animation: "," 0.3s ease-out forwards;\n  color: ",";\n"]);return yn=function(){return e},e}function kn(){var e=Object(D.a)(["\n  from {\n    bottom: -60px;\n    opacity: 0;\n  }\n  to {\n    bottom: 0;\n    opacity: 1;\n  }\n"]);return kn=function(){return e},e}var In=Object(s.d)(kn()),Cn=s.c.div(yn(),(function(e){return e.theme.shadows.md}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.zIndex.xl}),(function(e){return e.color&&e.color}),In,(function(e){return e.theme.colors.white})),zn=Object(s.c)(bn)(jn()),Sn=function(e){var n=e.children,t=e.type,r=e.autoClose,a=U(),c=Object(P.a)(a,2)[1];Object(i.useEffect)((function(){if(r){var e=setTimeout((function(){c({type:"CLEAR_MESSAGE"})}),5e3);return function(){clearTimeout(e)}}}),[c,r]);var u=wn.colors,s={SUCCESS:u.success,INFO:u.info,WARNING:u.warning,ERROR:u.error.main};return o.a.createElement(Cn,{color:s[t]},function(e){return{SUCCESS:o.a.createElement(nn,{icon:"success"}),INFO:o.a.createElement(nn,{icon:"info"}),WARNING:o.a.createElement(nn,{icon:"warning"}),ERROR:o.a.createElement(nn,{icon:"error"})}[e]}(t),o.a.createElement(sn,{left:t&&"xs"},n),o.a.createElement(zn,{ghost:!0,onClick:function(){return c({type:"CLEAR_MESSAGE"})}},o.a.createElement(nn,{icon:"close"})))};Sn.defaultProps={autoClose:!0};var Un=Sn;function Mn(){var e=Object(D.a)(['\n  &::after {\n    display: block;\n    animation: ellipsis 1s infinite;\n    content: ".";\n    text-align: center;\n    color: ',";\n    font-size: ",';\n  }\n  @keyframes ellipsis {\n    0% {\n      content: ".";\n    }\n    33% {\n      content: "..";\n    }\n    66% {\n      content: "...";\n    }\n  }\n']);return Mn=function(){return e},e}function Rn(){var e=Object(D.a)(["\n  text-indent: -9999em;\n  overflow: hidden;\n  width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  position: relative;\n  transform: translateZ(0);\n  animation: "," 1.7s infinite ease, "," 1.7s infinite ease;\n  margin: 0 auto;\n  margin-top: ",";\n  margin-bottom: ",";\n  color: ",";\n  font-size: ",";\n"]);return Rn=function(){return e},e}function An(){var e=Object(D.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return An=function(){return e},e}function Nn(){var e=Object(D.a)(["\n  0% {\n    box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n  }\n  5%,\n  95% {\n    box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n  }\n  10%,\n  59% {\n    box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;\n  }\n  20% {\n    box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;\n  }\n  38% {\n    box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;\n  }\n  100% {\n    box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n  }\n"]);return Nn=function(){return e},e}var Pn=Object(s.d)(Nn()),$n=Object(s.d)(An()),Tn=s.c.div(Rn(),Pn,$n,(function(e){return e.top&&e.theme.spacing[e.top]}),(function(e){return e.bottom&&e.theme.spacing[e.bottom]}),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.text.secondary}),(function(e){return e.size?e.theme.font.size[e.size]:e.theme.font.size.sm})),qn=s.c.div(Mn(),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.text.secondary}),(function(e){return e.theme.font.size.xl}));function Dn(){var e=Object(D.a)(["\n  ",";\n"]);return Dn=function(){return e},e}function Fn(){var e=Object(D.a)(["\n  ",";\n"]);return Fn=function(){return e},e}function _n(){var e=Object(D.a)(["\n  ",";\n"]);return _n=function(){return e},e}function Ln(){var e=Object(D.a)(["\n  ",";\n"]);return Ln=function(){return e},e}function Wn(){var e=Object(D.a)(["\n  margin: 0;\n  font-size: ",";\n  font-family: ",";\n  font-weight: ",";\n  color: ",";\n"]);return Wn=function(){return e},e}function Qn(){var e=Object(D.a)(["\n  color: ",";\n  font-size: ",";\n"]);return Qn=function(){return e},e}function Kn(){var e=Object(D.a)(["\n  text-decoration: none;\n  transition: color 0.1s;\n  display: inline-block;\n  color: ",";\n  font-weight: ",";\n  font-size: ",";\n  &:hover {\n    color: ",";\n  }\n"]);return Kn=function(){return e},e}var Bn=Object(s.c)(T.b)(Kn(),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.text.secondary}),(function(e){return e.weight?e.theme.font.weight[e.weight]:e.theme.font.weight.normal}),(function(e){return e.size?e.theme.font.size[e.size]:e.theme.font.size.xs}),(function(e){return e.theme.colors.text.primary})),Gn=s.c.div(Qn(),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.error.main}),(function(e){return e.size?e.theme.font.size[e.size]:e.theme.font.size.sm})),Hn=function(e){return Object(s.b)(Wn(),e,(function(e){return e.theme.font.family}),(function(e){return e.theme.font.weight.normal}),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.text.primary}))},Jn=s.c.h1(Ln(),Hn((function(e){return e.theme.font.size.xl}))),Vn=(s.c.h2(_n(),Hn((function(e){return e.theme.font.size.lg}))),s.c.h3(Fn(),Hn((function(e){return e.theme.font.size.xs}))));s.c.h4(Dn(),Hn((function(e){return e.theme.font.size.tiny})));function Zn(){var e=Object(D.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]);return Zn=function(){return e},e}function Yn(){var e=Object(D.a)(["\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  overflow: hidden;\n  flex-shrink: 0;\n"]);return Yn=function(){return e},e}var Xn=s.c.div(Yn(),(function(e){return e.size?"".concat(e.size,"px"):"30px"}),(function(e){return e.size?"".concat(e.size,"px"):"30px"})),et=s.c.img(Zn()),nt=function(e){var n=e.size,t=e.image;return o.a.createElement(Xn,{size:n},t?o.a.createElement(et,{src:t}):o.a.createElement(nn,{icon:"user",className:"",size:n}))},tt=t(42);function rt(){var e=Object(D.a)(["\n  outline: 0;\n  height: 40px;\n  width: 100%;\n  border: 0;\n  border-radius: ",";\n  padding-left: ",";\n  padding-right: ",";\n  color: ",";\n  font-size: ",";\n  background-color: ",";\n  transition: border-color 0.1s;\n  &:focus {\n    &::placeholder {\n      color: ",";\n    }\n  }\n"]);return rt=function(){return e},e}function at(){var e=Object(D.a)(["\n  position: absolute;\n  top: 12px;\n  left: 10px;\n"]);return at=function(){return e},e}function it(){var e=Object(D.a)(["\n  width: 100%;\n  position: relative;\n  z-index: ",";\n"]);return it=function(){return e},e}var ot=s.c.div(it(),(function(e){return e.theme.zIndex.xl})),ct=s.c.div(at()),ut=s.c.input(rt(),(function(e){return e.theme.radius.md}),(function(e){return e.hideIcon?e.theme.spacing.xs:e.theme.spacing.lg}),(function(e){return e.theme.spacing.lg}),(function(e){return e.theme.colors.text.main}),(function(e){return e.theme.font.size.xs}),(function(e){return e.backgroundColor?e.theme.colors[e.backgroundColor]:e.theme.colors.grey[200]}),(function(e){return e.theme.colors.grey[500]})),st=function(e){var n=e.onChange,t=e.onFocus,r=e.value,a=e.inputRef,i=e.backgroundColor,c=e.placeholder,u=e.hideIcon,s=e.children,l=e.autoFocus;return o.a.createElement(ot,null,!u&&o.a.createElement(ct,null,o.a.createElement(nn,{icon:"search"})),o.a.createElement(ut,{onChange:n,onFocus:t,value:r,ref:a,backgroundColor:i,type:"text",placeholder:c,hideIcon:u,autoFocus:l}),s)},lt="/messages/:userId",mt="/post/:id";function ft(){var e=Object(D.a)(["\n  text-align: center;\n  padding: ",";\n  color: ",";\n"]);return ft=function(){return e},e}function dt(){var e=Object(D.a)(["\n  font-size: ",";\n"]);return dt=function(){return e},e}function ht(){var e=Object(D.a)(["\n  font-weight: ",";\n"]);return ht=function(){return e},e}function pt(){var e=Object(D.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: ",";\n"]);return pt=function(){return e},e}function gt(){var e=Object(D.a)(["\n  display: block;\n  &:hover {\n    background-color: ",";\n  }\n"]);return gt=function(){return e},e}function bt(){var e=Object(D.a)(["\n  width: 100%;\n  max-height: 350px;\n  min-height: 40px;\n  overflow: auto;\n  position: absolute;\n  top: 50px;\n  font-size: ",";\n  box-shadow: ",";\n  background-color: ",";\n"]);return bt=function(){return e},e}var vt=s.c.div(bt(),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.shadows.sm}),(function(e){return e.theme.colors.white})),xt=Object(s.c)(Bn)(gt(),(function(e){return e.theme.colors.grey[100]})),Et=s.c.div(pt(),(function(e){return e.theme.spacing.xs})),wt=s.c.div(ht(),(function(e){return e.theme.font.weight.bold})),Ot=s.c.div(dt(),(function(e){return e.theme.font.size.xxs})),jt=s.c.div(ft(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.text.main})),yt=function(e){var n=e.users,t=e.forMessage;return n.length<1?o.a.createElement(vt,null,o.a.createElement(jt,null,"No search results.")):o.a.createElement(vt,null,n.map((function(e){return o.a.createElement(xt,{key:e.id,to:t?Object(q.f)(lt,{userId:e.id}):Object(q.f)("/:username",{username:e.username})},o.a.createElement(Et,null,o.a.createElement(nt,{image:e.image,size:34}),o.a.createElement(sn,{left:"xs"},o.a.createElement(wt,null,e.fullName),o.a.createElement(Ot,null,"@",e.username))))})))},kt=function(e,n){Object(i.useEffect)((function(){return document.addEventListener("click",t,!1),function(){document.removeEventListener("click",t,!1)}}));var t=function(t){e.current&&!e.current.contains(t.target)&&n()}};function It(){var e=Object(D.a)(["\n  position: absolute;\n  top: 14px;\n  right: 16px;\n"]);return It=function(){return e},e}var Ct=Object(s.c)(Tn)(It()),zt=function(e){var n=e.location,t=e.hideIcon,r=e.forMessage,a=e.backgroundColor,c=e.placeholder,u=e.autoFocus,s=Object(tt.a)(e,["location","hideIcon","forMessage","backgroundColor","placeholder","autoFocus"]),l=Object($.a)(),m=Object(i.useState)(!1),f=Object(P.a)(m,2),d=f[0],h=f[1],p=Object(i.useState)(""),g=Object(P.a)(p,2),b=g[0],v=g[1],x=Object(i.useState)([]),E=Object(P.a)(x,2),w=E[0],O=E[1],j=Object(i.useState)(!1),y=Object(P.a)(j,2),k=y[0],I=y[1],C=Object(i.useRef)(null);kt(C,(function(){return h(!1)}));var z=function(e,n){var t=Object(i.useState)(e),r=Object(P.a)(t,2),a=r[0],o=r[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){o(e)}),n);return function(){clearTimeout(t)}}),[e,n]),a}(b,500);Object(i.useEffect)((function(){v("")}),[n.pathname]),Object(i.useEffect)((function(){return z?function(){var e=Object(N.a)(R.a.mark((function e(){var n,t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.query({query:Ee,variables:{searchQuery:z}});case 2:n=e.sent,t=n.data,O(t.searchUsers),I(!1),h(""!==z);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():h(!1),function(){return I(!1)}}),[z,l]);var S=function(){var e=Object(N.a)(R.a.mark((function e(n){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.target.value.replace(/^\s+/g,""),v(t),t&&I(!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.a.createElement(st,Object.assign({onChange:S,onFocus:function(){return b&&h(!0)},value:b,inputRef:C,placeholder:c,hideIcon:t,backgroundColor:a,autoFocus:u},s),k&&o.a.createElement(Ct,{size:"xxs"}),d&&o.a.createElement(yt,{users:w,forMessage:r}))},St=t(101),Ut=Object(q.h)(Object(St.a)((function(e){var n=e.client,t=e.history,r=U(),a=Object(P.a)(r,2)[1];return o.a.createElement(bn,{text:!0,onClick:function(){a({type:"CLEAR_AUTH_USER"}),localStorage.removeItem("token"),n.resetStore(),t.push("/")}},"LogOut")})));function Mt(){var e=Object(D.a)(["\n  ",";\n"]);return Mt=function(){return e},e}function Rt(){var e=Object(D.a)(["\n  ",";\n"]);return Rt=function(){return e},e}function At(){var e=Object(D.a)(["\n  transition: background-color 0.1s;\n  display: block;\n  padding: "," ",";\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"]);return At=function(){return e},e}function Nt(){var e=Object(D.a)(["\n  text-align: center;\n  position: absolute;\n  background-color: white;\n  line-height: ",";\n  right: 0;\n  top: 60px;\n  z-index: ",";\n  box-shadow: ",";\n"]);return Nt=function(){return e},e}var Pt=s.c.div(Nt(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.zIndex.xl}),(function(e){return e.theme.shadows.sm})),$t=Object(s.b)(At(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.xl}),(function(e){return e.theme.colors.grey[100]}),(function(e){return e.theme.colors.text.secondary})),Tt=Object(s.c)(Bn)(Rt(),$t),qt=s.c.div(Mt(),$t),Dt=function(e){var n=e.userRef,t=U(),r=Object(P.a)(t,1)[0].auth;return o.a.createElement(Pt,{ref:n},o.a.createElement(Tt,{to:Object(q.f)("/:username",{username:r.user.username})},"My Profile"),o.a.createElement(qt,null,o.a.createElement(Ut,null)))};function Ft(){var e=Object(D.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n"]);return Ft=function(){return e},e}function _t(){var e=Object(D.a)(["\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n"]);return _t=function(){return e},e}function Lt(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1;\n  margin-left: ",";\n"]);return Lt=function(){return e},e}function Wt(){var e=Object(D.a)(["\n  font-weight: ",";\n"]);return Wt=function(){return e},e}function Qt(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Qt=function(){return e},e}function Kt(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: ",";\n  border-bottom: 1px solid ",";\n  font-size: ",";\n  background-color: ",";\n  &:last-child {\n    border-bottom: 0;\n  }\n"]);return Kt=function(){return e},e}var Bt=s.c.div(Kt(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.colors.white})),Gt=s.c.div(Qt()),Ht=s.c.div(Wt(),(function(e){return e.theme.font.weight.bold})),Jt=s.c.div(Lt(),(function(e){return e.theme.spacing.xs})),Vt=s.c.div(_t()),Zt=s.c.img(Ft()),Yt=Object(St.a)((function(e){var n=e.notification,t=e.close,r=e.client,a=U(),c=Object(P.a)(a,1)[0].auth,u=o.a.useRef(null);return kt(u,t),Object(i.useEffect)((function(){(function(){var e=Object(N.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.mutate({mutation:He,variables:{input:{userId:c.user.id}},refetchQueries:function(){return[{query:ve}]}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[c.user.id,c.user.newNotifications.length,r]),n.follow||n.like||n.comment?o.a.createElement(Bt,{ref:u},o.a.createElement(Bn,{to:Object(q.f)("/:username",{username:n.author.username})},o.a.createElement(Gt,null,o.a.createElement(nt,{image:n.author.image,size:34}),o.a.createElement(sn,{left:"xs"}),o.a.createElement(Ht,null,n.author.fullName))),n.follow&&o.a.createElement(Jt,null,"started following you"),n.like&&o.a.createElement(Jt,null,"likes your photo",o.a.createElement(Bn,{to:Object(q.f)(mt,{id:n.like.post.id})},o.a.createElement(Vt,null,o.a.createElement(Zt,{src:n.like.post.image})))),n.comment&&o.a.createElement(Jt,null,"commented on your photo",o.a.createElement(Bn,{to:Object(q.f)(mt,{id:n.comment.post.id})},o.a.createElement(Vt,null,o.a.createElement(Zt,{src:n.comment.post.image}))))):null}));function Xt(){var e=Object(D.a)(["\n  padding: ",";\n"]);return Xt=function(){return e},e}function er(){var e=Object(D.a)(["\n  position: absolute;\n  width: 100%;\n  max-height: 350px;\n  overflow-y: auto;\n  background-color: white;\n  right: 0;\n  top: 60px;\n  z-index: ",";\n  box-shadow: ",";\n\n  @media (min-width: ",") {\n    width: 500px;\n    right: ",";\n  }\n"]);return er=function(){return e},e}var nr=s.c.div(er(),(function(e){return e.theme.zIndex.xl}),(function(e){return e.theme.shadows.sm}),(function(e){return e.theme.screen.sm}),(function(e){return e.theme.spacing.lg})),tr=s.c.div(Xt(),(function(e){return e.theme.spacing.xs})),rr=function(e){var n=e.notificationRef,t=e.dropdownData,r=e.closeDropDown;return o.a.createElement(nr,{ref:n},t.length?t.map((function(e){return o.a.createElement(Yt,{key:e.id,notification:e,close:r})})):o.a.createElement(tr,null,"No new notifications."))},ar=function(e){var n=new Date(parseInt(e)),t=Math.floor((new Date-n)/1e3),r=Math.floor(t/31536e3);return r>1?r+" years":(r=Math.floor(t/2592e3))>1?r+" months":(r=Math.floor(t/86400))>1?r+" days":(r=Math.floor(t/3600))>1?r+" hours":(r=Math.floor(t/60))>1?r+" mins":Math.floor(t)+" seconds"};function ir(){var e=Object(D.a)(["\n  font-size: ",";\n  color: ",";\n"]);return ir=function(){return e},e}function or(){var e=Object(D.a)(["\n  margin-top: ",";\n  font-size: ",";\n  color: ",";\n  text-overflow: ellipsis;\n"]);return or=function(){return e},e}function cr(){var e=Object(D.a)(["\n  text-overflow: ellipsis;\n  width: 100%;\n"]);return cr=function(){return e},e}function ur(){var e=Object(D.a)(["\n  width: 100%;\n  padding: 0 ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return ur=function(){return e},e}function sr(){var e=Object(D.a)(["\n  width: 100%;\n  padding: "," ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  text-decoration: none;\n  color: ",";\n  border-top: 1px solid ",";\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return sr=function(){return e},e}function lr(){var e=Object(D.a)(["\n  color: ",";\n  font-size: ",";\n\n  &:hover {\n    color: ",";\n    text-decoration: underline;\n  }\n"]);return lr=function(){return e},e}function mr(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  padding: "," ",";\n"]);return mr=function(){return e},e}function fr(){var e=Object(D.a)(["\n  position: absolute;\n  width: 100%;\n  max-height: 350px;\n  overflow-y: auto;\n  background-color: white;\n  right: 0;\n  top: 60px;\n  z-index: ",";\n  box-shadow: ",";\n\n  @media (min-width: ",") {\n    width: 500px;\n    right: 90px;\n  }\n"]);return fr=function(){return e},e}var dr=s.c.div(fr(),(function(e){return e.theme.zIndex.xl}),(function(e){return e.theme.shadows.sm}),(function(e){return e.theme.screen.sm})),hr=s.c.div(mr(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.xs})),pr=Object(s.c)(Bn)(lr(),(function(e){return e.theme.colors.primary.main}),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.colors.primary.main})),gr=Object(s.c)(T.c)(sr(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.colors.text.primary}),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.colors.grey[100]})),br=s.c.div(ur(),(function(e){return e.theme.spacing.xs})),vr=s.c.div(cr()),xr=s.c.div(or(),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.colors.grey[500]})),Er=s.c.div(ir(),(function(e){return e.theme.font.size.tiny}),(function(e){return e.theme.colors.text.secondary})),wr=function(e){var n=e.messageRef,t=e.dropdownData;return o.a.createElement(dr,{ref:n},o.a.createElement(hr,null,o.a.createElement(pr,{to:Object(q.f)(lt,{userId:"new"})},"New Message")),t.map((function(e){return o.a.createElement(gr,{key:e.id,to:Object(q.f)(lt,{userId:e.id})},o.a.createElement("span",null,o.a.createElement(nt,{image:e.image,size:50})),o.a.createElement(br,null,o.a.createElement("div",null,o.a.createElement(vr,null,e.fullName),o.a.createElement(xr,null,e.lastMessage)),o.a.createElement(Er,null,ar(e.lastMessageCreatedAt))))})))},Or=function(e){var n=e.messageRef,t=e.notificationRef,r=e.userRef,a=e.dropdownOpen,i=e.dropdownData,c=e.closeDropDown;return a?{USER:o.a.createElement(Dt,{userRef:r}),NOTIFICATION:o.a.createElement(rr,{notificationRef:t,dropdownData:i,closeDropDown:c}),MESSAGE:o.a.createElement(wr,{messageRef:n,dropdownData:i})}[a]:null};function jr(){var e=Object(D.a)(["\n  ",";\n  right: 100px;\n"]);return jr=function(){return e},e}function yr(){var e=Object(D.a)(["\n  ",";\n  right: 54px;\n"]);return yr=function(){return e},e}function kr(){var e=Object(D.a)(["\n  top: -6px;\n  position: absolute;\n  height: 22px;\n  width: 22px;\n  padding: 2px;\n  letter-spacing: -1px;\n  border-radius: 50%;\n  color: ",";\n  background-color: ",";\n  font-size: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]);return kr=function(){return e},e}function Ir(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: relative;\n"]);return Ir=function(){return e},e}function Cr(){var e=Object(D.a)(["\n  display: none;\n  color: ",";\n  font-weight: ",";\n  font-size: ",";\n  &:hover {\n    color: ",";\n  }\n  @media (min-width: ",") {\n    display: block;\n  }\n"]);return Cr=function(){return e},e}function zr(){var e=Object(D.a)(["\n  cursor: pointer;\n  @media (min-width: ",") {\n    display: none;\n  }\n"]);return zr=function(){return e},e}function Sr(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Sr=function(){return e},e}function Ur(){var e=Object(D.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: ","px;\n  margin: 0 auto;\n  width: 100%;\n  @media (min-width: ",") {\n    width: ",";\n  }\n"]);return Ur=function(){return e},e}function Mr(){var e=Object(D.a)(["\n  position: sticky;\n  top: 0;\n  background-color: ",";\n  z-index: ",";\n  height: ","px;\n  border-bottom: 1px solid ",";\n  @media (min-width: ",") {\n    z-index: ",";\n  }\n"]);return Mr=function(){return e},e}var Rr=Object(s.c)(cn)(Mr(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.zIndex.md}),60,(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.screen.md}),(function(e){return e.theme.zIndex.md})),Ar=s.c.div(Ur(),60,(function(e){return parseInt(e.theme.screen.lg,10)+20+"px"}),(function(e){return e.theme.screen.lg})),Nr=s.c.div(Sr()),Pr=s.c.div(zr(),(function(e){return e.theme.screen.md})),$r=Object(s.c)(Bn)(Cr(),(function(e){return e.theme.colors.primary.main}),(function(e){return e.theme.font.weight.bold}),(function(e){return e.theme.font.size.sm}),(function(e){return e.theme.colors.primary.main}),(function(e){return e.theme.screen.md})),Tr=s.c.div(Ir()),qr=Object(s.b)(kr(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.error.main}),(function(e){return e.theme.font.size.xxs})),Dr=s.c.span(yr(),qr),Fr=s.c.span(jr(),qr),_r=Object(q.h)((function(e){var n=e.location,t=e.toggleSideBar,r=U(),a=Object(P.a)(r,1)[0].auth,c=a&&a.user&&a.user.newConversations,u=a&&a.user&&a.user.newNotifications,s=a&&a.user&&a.user.image,l=Object(i.useState)(null),m=Object(P.a)(l,2),f=m[0],d=m[1],h=Object(i.useState)([]),p=Object(P.a)(h,2),g=p[0],b=p[1],v=Object(i.useRef)(null),x=Object(i.useRef)(null),E=Object(i.useRef)(null),w=function(){f&&O()};kt(v,w),kt(x,w),kt(E,w);var O=function(){d(null),b([])};Object(i.useEffect)((function(){return function(){return O()}}),[n.pathname]);var j=function(e){f?O():("NOTIFICATION"===e?b(u):"MESSAGE"===e&&b(c),d(e))};return o.a.createElement(Rr,null,o.a.createElement(Ar,null,o.a.createElement(Nr,null,o.a.createElement(Pr,{onClick:t},o.a.createElement(nn,{icon:"menu"})),o.a.createElement($r,{to:"/"},"Relationship talks"),o.a.createElement(sn,{left:"sm",right:"md"},o.a.createElement(zt,{location:n,placeholder:"Search"}))),o.a.createElement(Tr,null,o.a.createElement(sn,{right:"md"},o.a.createElement(bn,{ghost:!0,onClick:function(){return j("MESSAGE")}},c>0&&o.a.createElement(Fr,null,c&&c.length),o.a.createElement(nn,{icon:"envelope"}))),o.a.createElement(sn,{right:"md"},o.a.createElement(bn,{ghost:!0,onClick:function(){return j("NOTIFICATION")}},u&&u.length>0&&o.a.createElement(Dr,null,u&&u.length),o.a.createElement(nn,{icon:"bell"}))),o.a.createElement(bn,{ghost:!0,onClick:function(){return j("USER")}},o.a.createElement(nt,{image:s}))),o.a.createElement(Or,{messageRef:v,notificationRef:x,userRef:E,dropdownOpen:f,dropdownData:g,closeDropDown:O})))}));function Lr(){var e=Object(D.a)(["\n  margin-left: ",";\n"]);return Lr=function(){return e},e}function Wr(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Wr=function(){return e},e}function Qr(){var e=Object(D.a)(["\n  list-style-type: none;\n  padding: 0;\n  line-height: 40px;\n  font-size: ",";\n"]);return Qr=function(){return e},e}function Kr(){var e=Object(D.a)(["\n  text-decoration: none;\n  transition: color 0.1s;\n  color: ",";\n  display: block;\n  padding-left: ",";\n  &:hover,\n  &.selected {\n    color: ",";\n    background-color: ",";\n    svg path {\n      fill: ",";\n    }\n    @media (min-width: ",") {\n      background-color: ",";\n    }\n  }\n"]);return Kr=function(){return e},e}var Br=Object(s.c)(T.c)(Kr(),(function(e){return e.theme.colors.text.primary}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.primary.main}),(function(e){return e.theme.colors.grey[100]}),(function(e){return e.theme.colors.primary.main}),(function(e){return e.theme.screen.md}),(function(e){return e.theme.colors.white})),Gr=s.c.ul(Qr(),(function(e){return e.theme.font.size.xs})),Hr=s.c.li(Wr()),Jr=s.c.div(Lr(),(function(e){return e.theme.spacing.sm})),Vr=function(){return o.a.createElement(Gr,null,o.a.createElement(Br,{exact:!0,activeClassName:"selected",to:"/"},o.a.createElement(Hr,null,o.a.createElement(nn,{icon:"home"}),o.a.createElement(Jr,null,"Home"))),o.a.createElement(Br,{exact:!0,activeClassName:"selected",to:"/search"},o.a.createElement(Hr,null,o.a.createElement(nn,{icon:"search",width:20}),o.a.createElement(Jr,null,"Explore"))),o.a.createElement(Br,{exact:!0,activeClassName:"selected",to:"/people"},o.a.createElement(Hr,null,o.a.createElement(nn,{icon:"users"}),o.a.createElement(Jr,null,"People"))),o.a.createElement(Br,{exact:!0,activeClassName:"selected",to:"/notifications"},o.a.createElement(Hr,null,o.a.createElement(nn,{icon:"bell"}),o.a.createElement(Jr,null,"Notifications"))),o.a.createElement(Br,{exact:!0,activeClassName:"selected",to:Object(q.f)(lt,{userId:"new"})},o.a.createElement(Hr,null,o.a.createElement(nn,{icon:"envelope"}),o.a.createElement(Jr,null,"Messages"))))};function Zr(){var e=Object(D.a)(["\n  font-weight: ",";\n  color: ",";\n"]);return Zr=function(){return e},e}function Yr(){var e=Object(D.a)(["\n  text-decoration: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: ",";\n  border: 1px solid transparent;\n\n  &:hover,\n  &.selected {\n    background-color: ",";\n\n    @media (min-width: ",") {\n      background-color: ",";\n    }\n  }\n"]);return Yr=function(){return e},e}function Xr(){var e=Object(D.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  padding-top: ","px;\n  height: 100%;\n  width: ","px;\n  transition: margin-left 0.2s ease-in-out;\n  font-size: ",";\n  z-index: ",";\n  background-color: ",";\n  border-right: 1px solid ",";\n\n  @media (min-width: ",") {\n    padding-top: 0;\n    position: sticky;\n    top: 100px;\n    margin-left: ",";\n    flex-basis: ","px;\n    flex-grow: 0;\n    flex-shrink: 0;\n    border: 0;\n    background-color: transparent;\n  }\n\n  @media (max-width: ",") {\n    margin-left: ",";\n  }\n"]);return Xr=function(){return e},e}var ea=s.c.div(Xr(),100,240,(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.zIndex.sm}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.screen.md}),(function(e){return e.isOpen?0:"-".concat(180,"px")}),180,(function(e){return e.theme.screen.md}),(function(e){return e.isOpen?0:"-".concat(240,"px")})),na=Object(s.c)(T.c)(Yr(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.grey[100]}),(function(e){return e.theme.screen.md}),(function(e){return e.theme.colors.white})),ta=s.c.div(Zr(),(function(e){return e.theme.font.weight.bold}),(function(e){return e.active?e.theme.colors.primary.main:e.theme.colors.text.primary})),ra=Object(q.h)((function(e){var n=e.location,t=e.isOpen,r=e.sideBarRef,a=U(),i=Object(P.a)(a,1)[0].auth,c=i&&i.user&&i.user.username,u=c===n.pathname.substring(1);return o.a.createElement(ea,{isOpen:t,ref:r},o.a.createElement(na,{exact:!0,to:Object(q.f)("/:username",{username:c}),activeClassName:"selected"},o.a.createElement(nt,{image:i.user.image,size:20}),o.a.createElement(sn,{left:"xxs"},o.a.createElement(ta,{active:u},i.user.fullName))),o.a.createElement(sn,{top:"sm"}),o.a.createElement(Vr,null))})),aa=t(43);function ia(){var e=Object(D.a)(["\n  mutation($input: DeleteCommentInput!) {\n    deleteComment(input: $input) {\n      id\n    }\n  }\n"]);return ia=function(){return e},e}function oa(){var e=Object(D.a)(["\n  mutation($input: CreateCommentInput!) {\n    createComment(input: $input) {\n      id\n    }\n  }\n"]);return oa=function(){return e},e}var ca=_()(oa()),ua=_()(ia()),sa="LIKE",la="FOLLOW",ma="COMMENT",fa=function(){var e=U(),n=Object(P.a)(e,1)[0].auth,t=Object($.a)(),r=function(){var e=Object(N.a)(R.a.mark((function e(n,r){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.mutate({mutation:n,variables:{input:Object(w.a)({},r)}});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error while mutating a notification",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t){return e.apply(this,arguments)}}();return{create:function(e){var t=e.user,a=e.postId,i=e.notificationType,o=e.notificationTypeId;return r(Ke,{authorId:n.user.id,userId:t.id,postId:a,notificationType:i,notificationTypeId:o})},remove:function(e){var n=e.notificationId;return r(Be,{id:n})},toggle:function(e){var t=e.user,a=e.postId,i=e.notificationType,o=e.notificationTypeId,c=e.hasDone,u=i.toLowerCase(),s=t.notifications.find((function(e){return e[u]&&c&&e[u].id===c.id})),l=s?s.id:null,m=l?"delete":"create",f={create:{mutation:Ke,variables:{authorId:n.user.id,userId:t.id,postId:a,notificationType:i,notificationTypeId:o}},delete:{mutation:Be,variables:{id:l}}};return r(f[m].mutation,f[m].variables)}}};function da(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n"]);return da=function(){return e},e}var ha=s.c.form(da()),pa=Object(St.a)((function(e){var n=e.post,t=e.focus,r=U(),a=Object(P.a)(r,1)[0].auth,c=fa(),u=Object(i.useState)(""),s=Object(P.a)(u,2),l=s[0],m=s[1],f=Object(i.useRef)(null),d=Object(i.useRef)(!1);Object(i.useEffect)((function(){t&&d.current.focus()}),[t]);var h=function(){var e=Object(N.a)(R.a.mark((function e(t,r){var i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r();case 3:i=e.sent,o=i.data,m(""),a.user.id!==n.author.id&&c.create({user:n.author,postId:n.id,notificationType:ma,notificationTypeId:o.createComment.id});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),p=function(e){13===e.keyCode&&(e.preventDefault(),f.current.click())};return o.a.createElement(aa.a,{mutation:ca,variables:{input:{comment:l,author:a.user.id,postId:n.id}},refetchQueries:function(){return[{query:Z,variables:{userId:a.user.id}},{query:ge,variables:{username:a.user.username}},{query:ve},{query:Y,variables:{authUserId:a.user.id}},{query:X,variables:{id:n.id}}]}},(function(e,n){var t=n.loading;return o.a.createElement(ha,{onSubmit:function(n){return h(n,e)}},o.a.createElement(En,{onChange:function(e){return m(e.target.value)},value:l,placeholder:"Add a comment...",onKeyDown:p,ref:d}),o.a.createElement(bn,{type:"submit",color:l?"primary.main":"grey[500]",weight:"bold",text:!0,ref:f,disabled:!l||t},"Post"))}))})),ga=t(65),ba=function(e){var n=e.title;return o.a.createElement(ga.a,null,o.a.createElement("title",null,n))};ba.defaultProps={title:"Relationship talks"};var va=ba;function xa(){var e=Object(D.a)(["\n  mutation($input: DeleteFollowInput!) {\n    deleteFollow(input: $input) {\n      id\n    }\n  }\n"]);return xa=function(){return e},e}function Ea(){var e=Object(D.a)(["\n  mutation($input: CreateFollowInput!) {\n    createFollow(input: $input) {\n      id\n    }\n  }\n"]);return Ea=function(){return e},e}var wa=_()(Ea()),Oa=_()(xa());function ja(){var e=Object(D.a)(["\n  height: 27px;\n  cursor: pointer;\n  outline: none;\n  font-size: ",";\n  font-weight: ",";\n  transition: background-color 0.2s, border-color 0.1s;\n  border-radius: ",";\n  color: ",";\n  padding: "," ",";\n  border: ",";\n  background-color: ",";\n  &:hover {\n    border-color: ",";\n  }\n"]);return ja=function(){return e},e}var ya=s.c.button(ja(),(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.font.weight.bold}),(function(e){return e.theme.radius.sm}),(function(e){return!e.isFollowing&&e.theme.colors.white}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.spacing.xs}),(function(e){return e.isFollowing?"1px solid ".concat(e.theme.colors.border.main):"0"}),(function(e){return e.isFollowing?"transparent":e.theme.colors.primary.main}),(function(e){return e.theme.colors.border.dark})),ka=function(e){var n=e.user,t=Object(i.useState)(!1),r=Object(P.a)(t,2),a=r[0],c=r[1],u=U(),s=Object(P.a)(u,1)[0].auth,l=fa(),m=s.user.following.find((function(e){return e.user===n.id})),f=function(){var e=Object(N.a)(R.a.mark((function e(t){var r,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,t();case 3:if(r=e.sent,a=r.data,s.user.id!==n.id){e.next=7;break}return e.abrupt("return",c(!1));case 7:return e.next=9,l.toggle({user:n,hasDone:m,notificationType:la,notificationTypeId:a.createFollow?a.createFollow.id:null});case 9:c(!1);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=m?"delete":"create",h={create:{mutation:wa,variables:{userId:n.id,followerId:s.user.id}},delete:{mutation:Oa,variables:{id:m?m.id:null}}};return o.a.createElement(aa.a,{mutation:h[d].mutation,variables:{input:Object(w.a)({},h[d].variables)},refetchQueries:function(){return[{query:ve},{query:Y,variables:{authUserId:s.user.id}},{query:Z,variables:{userId:s.user.id,skip:0,limit:6}},{query:ge,variables:{username:n.username}}]}},(function(e){return o.a.createElement(ya,{onClick:function(){return f(e)},disabled:a,isFollowing:m},m?"Following":"Follow")}))};function Ia(){var e=Object(D.a)(["\n  max-width: 100%;\n  font-size: ",";\n  font-weight: ",";\n"]);return Ia=function(){return e},e}function Ca(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-right: ",";\n"]);return Ca=function(){return e},e}function za(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid ",";\n  padding: ",";\n  margin-bottom: ",";\n"]);return za=function(){return e},e}var Sa=s.c.div(za(),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.xxs})),Ua=s.c.div(Ca(),(function(e){return e.theme.spacing.sm})),Ma=s.c.div(Ia(),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.font.weight.bold})),Ra=function(e){var n=e.author,t=U(),r=Object(P.a)(t,1)[0].auth;return o.a.createElement(Sa,null,o.a.createElement(Ua,null,o.a.createElement(Bn,{to:Object(q.f)("/:username",{username:n.username})},o.a.createElement(nt,{image:n.image})),o.a.createElement(sn,{left:"xs",inline:!0},o.a.createElement(Bn,{to:Object(q.f)("/:username",{username:n.username})},o.a.createElement(Ma,null,n.fullName)))),r.user.id!==n.id&&o.a.createElement(ka,{user:n}))};function Aa(){var e=Object(D.a)(["\n  position: relative;\n  word-wrap: break-word;\n  overflow: hidden;\n  padding: 0 "," ","\n    ",";\n  background-color: ",";\n  border-radius: ",";\n  margin-left: ",";\n  color: ",";\n"]);return Aa=function(){return e},e}function Na(){var e=Object(D.a)(["\n  color: ",";\n  font-weight: ",";\n"]);return Na=function(){return e},e}function Pa(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: "," 0;\n  font-size: ",";\n  &:hover "," {\n    display: block;\n  }\n"]);return Pa=function(){return e},e}function $a(){var e=Object(D.a)(["\n  cursor: pointer;\n  display: none;\n  background-color: transparent;\n  border: 0;\n  outline: 0;\n  position: absolute;\n  right: 7px;\n  top: 6px;\n"]);return $a=function(){return e},e}var Ta=s.c.button($a()),qa=s.c.div(Pa(),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.font.size.xxs}),Ta),Da=s.c.div(Na(),(function(e){return e.theme.colors.primary.main}),(function(e){return e.theme.font.weight.bold})),Fa=s.c.div(Aa(),(function(e){return e.theme.spacing.lg}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.grey[100]}),(function(e){return e.theme.radius.lg}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.colors.text.main})),_a=function(e){var n=e.comment,t=e.postId,r=e.postAuthor,a=U(),i=Object(P.a)(a,1)[0].auth,c=fa(),u=function(){var e=Object(N.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:i.user.id!==r.id&&(a=r.notifications.find((function(e){return e.comment&&e.comment.id===n.id})),c.remove({notificationId:a.id}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.a.createElement(aa.a,{mutation:ua,variables:{input:{id:n.id}},refetchQueries:function(){return[{query:Z,variables:{userId:i.user.id}},{query:ge,variables:{username:n.author.username}},{query:ve},{query:Y,variables:{authUserId:i.user.id}},{query:X,variables:{id:t}}]}},(function(e){return o.a.createElement(qa,null,o.a.createElement(Bn,{to:Object(q.f)("/:username",{username:n.author.username})},o.a.createElement(nt,{image:n.author.image})),o.a.createElement(Fa,null,n.author.id===i.user.id&&o.a.createElement(Ta,{onClick:function(){return u(e)}},o.a.createElement(nn,{icon:"close",width:"10"})),o.a.createElement(sn,{top:"xxs"}),o.a.createElement(sn,{inline:!0,right:"xxs"},o.a.createElement(Bn,{to:Object(q.f)("/:username",{username:n.author.username})},o.a.createElement(Da,null,n.author.fullName))),n.comment))}))};function La(){var e=Object(D.a)(["\n  max-height: ",";\n  width: 100%;\n  overflow-y: scroll;\n  box-sizing: content-box;\n  padding: 0 ",";\n"]);return La=function(){return e},e}function Wa(){var e=Object(D.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  padding-bottom: ",";\n  @media (min-width: ",") {\n    max-height: 400px;\n  }\n"]);return Wa=function(){return e},e}var Qa=s.c.div(Wa(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.screen.md})),Ka=s.c.div(La(),(function(e){return e.usedInModal?"100%":"350px"}),(function(e){return e.theme.spacing.xs})),Ba=function(e){var n=e.comments,t=e.postId,r=e.postAuthor,a=e.usedInModal;return o.a.createElement(Qa,{usedInModal:a},o.a.createElement(sn,{top:"xs"}),o.a.createElement(Ka,{usedInModal:a},n.map((function(e){return o.a.createElement(_a,{key:e.id,comment:e,postId:t,postAuthor:r})}))))},Ga=t(68),Ha=t.n(Ga);function Ja(){var e=Object(D.a)(["\n  font-size: ",";\n  border-bottom: 1px solid ",";\n  padding: ",";\n"]);return Ja=function(){return e},e}function Va(){var e=Object(D.a)(["\n  display: block;\n  position: fixed;\n  right: 20px;\n  top: 15px;\n  cursor: pointer;\n"]);return Va=function(){return e},e}function Za(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  width: 100%;\n  background-color: ",";\n  @media (min-width: ",") {\n    width: ",";\n    min-width: 360px;\n  }\n"]);return Za=function(){return e},e}function Ya(){var e=Object(D.a)(["\n  display: block;\n  max-width: 100%;\n  width: ",";\n  max-height: ",";\n"]);return Ya=function(){return e},e}function Xa(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: ",";\n  justify-content: center;\n  background-color: ",";\n  width: 100%;\n  @media (min-width: ",") {\n    max-width: 1000px;\n    min-width: 500px;\n    height: ",";\n  }\n"]);return Xa=function(){return e},e}function ei(){var e=Object(D.a)(["\n  max-height: ",";\n  overflow-y: ",";\n  max-width: 1300px;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  @media (min-width: ",") {\n    flex-direction: ",";\n    max-height: ",";\n    overflow-y: inherit;\n  }\n"]);return ei=function(){return e},e}function ni(){var e=Object(D.a)(["\n  margin: 0 auto;\n  margin: "," 0;\n  box-shadow: ",";\n  border-radius: ",";\n  z-index: ",";\n  overflow: hidden;\n  width: 100%;\n  @media (min-width: ",") {\n    width: auto;\n  }\n"]);return ni=function(){return e},e}var ti=s.c.div(ni(),(function(e){return!e.usedInModal&&e.theme.spacing.lg}),(function(e){return e.theme.shadows.sm}),(function(e){return e.theme.radius.sm}),(function(e){return e.usedInModal?e.theme.zIndex.xl:"inherit"}),(function(e){return e.theme.screen.md})),ri=s.c.div(ei(),(function(e){return e.usedInModal?"600px":"auto"}),(function(e){return e.usedInModal?"auto":"inherit"}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.screen.md}),(function(e){return e.usedInModal?"row":"column"}),(function(e){return e.usedInModal?"600px":"auto"})),ai=s.c.div(Xa(),(function(e){return e.usedInModal?"center":"flex-start"}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.screen.md}),(function(e){return e.usedInModal?"600px":"auto"})),ii=s.c.img(Ya(),(function(e){return!e.usedInModal&&"100%"}),(function(e){return e.usedInModal?"600px":"100%"})),oi=s.c.div(Za(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.screen.md}),(function(e){return e.usedInModal?"360px":"100%"})),ci=s.c.div(Va()),ui=s.c.div(Ja(),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.colors.border.light}),(function(e){return e.theme.spacing.xs})),si=function(e){var n=e.id,t=e.closeModal,r=e.usedInModal;return o.a.createElement(aa.b,{query:X,variables:{id:n}},(function(e){var n=e.data,a=(e.loading,e.error,n.getPost);return o.a.createElement(ti,{usedInModal:r},o.a.createElement(va,{title:a.title?a.title:"".concat(a.author.username,"'s post")}),t&&o.a.createElement(ci,{onClick:t},o.a.createElement(nn,{icon:"close"})),o.a.createElement(ri,{usedInModal:r},o.a.createElement(ai,{usedInModal:r},o.a.createElement(ii,{src:a.image,usedInModal:r})),o.a.createElement(oi,{usedInModal:r},o.a.createElement(sn,null,o.a.createElement(Ra,{author:a.author}),a.title&&o.a.createElement(ui,null,a.title),o.a.createElement(Ba,{usedInModal:r,comments:a.comments,postId:a.id,postAuthor:a.author})),o.a.createElement(sn,null,o.a.createElement(Ha.a,{postId:a.id,postAuthor:a.author,postLikes:a.likes}),o.a.createElement(pa,{post:a})))))}))};si.defaultProps={usedInModal:!0};var li=Object(q.h)(si);function mi(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n"]);return mi=function(){return e},e}function fi(){var e=Object(D.a)(["\n  margin: auto;\n  background-color: ",";\n  padding: ",";\n  border-radius: ",";\n  z-index: ",";\n"]);return fi=function(){return e},e}var di=s.c.div(fi(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.zIndex.sm})),hi=s.c.div(mi()),pi=function(e){var n=e.title,t=e.onCancel,r=e.onOk,a=e.cancelText,i=e.okText;return o.a.createElement(di,null,o.a.createElement("div",null,n),o.a.createElement(sn,{top:"md"}),o.a.createElement(hi,null,o.a.createElement(bn,{onClick:t},a),o.a.createElement(sn,{left:"xs"},o.a.createElement(bn,{color:"red",onClick:r},i))))};pi.defaultProps={title:"Do you really want to delete this item?",cancelText:"Cancel",okText:"Delete"};var gi=pi;function bi(){var e=Object(D.a)(["\n  position: fixed;\n  top: ",";\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  @media (min-width: ",") {\n    align-items: center;\n    top: 0;\n  }\n"]);return bi=function(){return e},e}var vi=s.c.div(bi(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.zIndex.lg}),(function(e){return e.theme.screen.md})),xi=function(e){var n=e.children,t=e.open,r=e.onClose,a=e.type,i=Object(tt.a)(e,["children","open","onClose","type"]);return t?o.a.createElement(vi,null,o.a.createElement(ln,{onClick:r}),"confirm"===a?o.a.createElement(gi,i):n):null};function Ei(){var e=Object(D.a)(["\n  mutation($input: DeleteLikeInput!) {\n    deleteLike(input: $input) {\n      id\n    }\n  }\n"]);return Ei=function(){return e},e}function wi(){var e=Object(D.a)(["\n  mutation($input: CreateLikeInput!) {\n    createLike(input: $input) {\n      id\n    }\n  }\n"]);return wi=function(){return e},e}var Oi=_()(wi()),ji=_()(Ei());function yi(){var e=Object(D.a)(["\n  padding: "," 0;\n"]);return yi=function(){return e},e}var ki=Object(s.c)(bn)(yi(),(function(e){return e.theme.spacing.xs})),Ii=function(e){var n=e.postId,t=e.user,r=e.likes,a=e.withText,c=e.fullWidth,u=Object(i.useState)(!1),s=Object(P.a)(u,2),l=s[0],m=s[1],f=U(),d=Object(P.a)(f,1)[0].auth,h=fa(),p=r.find((function(e){return e.user===d.user.id&&e.post===n})),g=function(){var e=Object(N.a)(R.a.mark((function e(r){var a,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,r();case 3:if(a=e.sent,i=a.data,d.user.id!==t.id){e.next=7;break}return e.abrupt("return",m(!1));case 7:return e.next=9,h.toggle({user:t,postId:n,hasDone:p,notificationType:sa,notificationTypeId:i.createLike?i.createLike.id:null});case 9:m(!1);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=p?"delete":"create",v={create:{mutation:Oi,variables:{postId:n,userId:d.user.id}},delete:{mutation:ji,variables:{id:p?p.id:null}}};return o.a.createElement(aa.a,{mutation:v[b].mutation,variables:{input:Object(w.a)({},v[b].variables)},refetchQueries:function(){return[{query:ve},{query:Y,variables:{authUserId:d.user.id}},{query:Z,variables:{userId:d.user.id}}]}},(function(e){return o.a.createElement(ki,{fullWidth:c,disabled:l,text:!0,onClick:function(){return g(e)},color:p&&"primary.main"},o.a.createElement(nn,{icon:"thumbs-up"}),o.a.createElement(sn,{inline:!0,left:"xxs"}),a&&o.a.createElement("b",null,"UpVote"))}))};function Ci(){var e=Object(D.a)(["\n  padding: "," 0;\n  text-align: center;\n  border-top: 1px solid "," !important;\n  &:first-child {\n    border-top: 0 !important ;\n  }\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"]);return Ci=function(){return e},e}function zi(){var e=Object(D.a)(["\n  padding: "," 0;\n  text-align: center;\n"]);return zi=function(){return e},e}function Si(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  background-color: ",";\n  border-radius: ",";\n  z-index: ",";\n  box-shadow: ",";\n"]);return Si=function(){return e},e}var Ui=s.c.div(Si(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.zIndex.lg}),(function(e){return e.theme.shadows.xl})),Mi=s.c.div(zi(),(function(e){return e.theme.spacing.sm})),Ri=Object(s.c)(bn)(Ci(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.colors.grey[100]}),(function(e){return e.theme.colors.text.primary})),Ai=function(e){var n=e.postId,t=e.author,r=e.closeOption,a=e.deletePost,i=U(),c=Object(P.a)(i,1)[0].auth;return o.a.createElement(Ui,null,c.user.id!==t.id&&o.a.createElement(Mi,null,o.a.createElement(ka,{user:t})),o.a.createElement(Ri,{fullWidth:!0,text:!0,onClick:function(){try{navigator.clipboard.writeText("".concat("http://localhost:3000").concat(Object(q.f)(mt,{id:n})))}catch(e){console.error("Failed to read clipboard contents: ",e)}r()}},"Copy link"),c.user.id===t.id&&o.a.createElement(Ri,{fullWidth:!0,text:!0,onClick:a},"Delete post"),o.a.createElement(Ri,{fullWidth:!0,onClick:r,text:!0},"Cancel"))};function Ni(){var e=Object(D.a)(["\n  margin-bottom: 5px;\n  border-top: 1px solid ",";\n"]);return Ni=function(){return e},e}function Pi(){var e=Object(D.a)(["\n  padding: 0;\n  padding-left: 4px;\n  font-size: ",";\n"]);return Pi=function(){return e},e}function $i(){var e=Object(D.a)(["\n  padding: 0 ",";\n"]);return $i=function(){return e},e}function Ti(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid ",";\n"]);return Ti=function(){return e},e}function qi(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: ",";\n  font-size: ",";\n  color: ",";\n"]);return qi=function(){return e},e}function Di(){var e=Object(D.a)(["\n  padding: 0 ",";\n"]);return Di=function(){return e},e}function Fi(){var e=Object(D.a)(["\n  overflow: hidden;\n"]);return Fi=function(){return e},e}function _i(){var e=Object(D.a)(["\n  display: block;\n  width: 100%;\n  max-height: 700px;\n  object-fit: cover;\n  cursor: pointer;\n  margin-bottom: ",";\n"]);return _i=function(){return e},e}function Li(){var e=Object(D.a)(["\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"]);return Li=function(){return e},e}function Wi(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Wi=function(){return e},e}function Qi(){var e=Object(D.a)(["\n  font-size: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  border: 0;\n  margin-top: 2px;\n"]);return Qi=function(){return e},e}function Ki(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: "," ",";\n"]);return Ki=function(){return e},e}function Bi(){var e=Object(D.a)(["\n  width: 100%;\n  border-radius: ",";\n  padding-bottom: ",";\n  background-color: ",";\n  border: 1px solid ",";\n"]);return Bi=function(){return e},e}var Gi=s.c.div(Bi(),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.border.main})),Hi=s.c.div(Ki(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.sm})),Ji=s.c.div(Qi(),(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.colors.text.hint}),(function(e){return e.theme.colors.text.secondary})),Vi=Object(s.c)(Bn)(Wi()),Zi=s.c.span(Li(),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.font.weight.bold}),(function(e){return e.theme.colors.primary.main})),Yi=s.c.img(_i(),(function(e){return e.theme.spacing.sm})),Xi=s.c.div(Fi()),eo=s.c.div(Di(),(function(e){return e.theme.spacing.sm})),no=s.c.div(qi(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.colors.text.secondary})),to=s.c.div(Ti(),(function(e){return e.theme.colors.border.main})),ro=s.c.div($i(),(function(e){return e.theme.spacing.sm})),ao=Object(s.c)(bn)(Pi(),(function(e){return e.theme.font.size.xxs})),io=s.c.div(Ni(),(function(e){return e.theme.colors.border.main})),oo=Object(St.a)((function(e){var n=e.author,t=e.imagePublicId,r=e.comments,a=e.title,c=e.createdAt,u=e.image,s=e.likes,l=e.postId,m=e.openModal,f=e.client,d=U(),h=Object(P.a)(d,1)[0].auth,p=Object(i.useState)(!1),g=Object(P.a)(p,2),b=g[0],v=g[1],x=Object(i.useState)(!1),E=Object(P.a)(x,2),w=E[0],O=E[1],j=function(){return O(!1)},y=function(){var e=Object(N.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.mutate({mutation:ee,variables:{input:{id:l,imagePublicId:t}},refetchQueries:function(){return[{query:Z,variables:{userId:h.user.id,skip:0,limit:6}},{query:ve},{query:be,variables:{username:h.user.username,skip:0,limit:6}}]}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:O(!1);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Gi,null,o.a.createElement(xi,{onClose:j,open:w},o.a.createElement(Ai,{postId:l,closeOption:j,author:n,deletePost:y})),o.a.createElement(Hi,null,o.a.createElement(Vi,{to:Object(q.f)("/:username",{username:n.username})},o.a.createElement(nt,{image:n.image}),o.a.createElement(sn,{left:"xs"},o.a.createElement(Zi,null,n.fullName),o.a.createElement(Ji,null,ar(c)))),o.a.createElement(bn,{ghost:!0,onClick:function(){return O(!0)}},o.a.createElement(nn,{icon:"ellipsis-h"}))),o.a.createElement(sn,{left:"sm",bottom:"sm",top:"xs"},o.a.createElement(Vn,null,a)),u&&o.a.createElement(Yi,{src:u,onClick:m}),o.a.createElement(Xi,null,o.a.createElement(eo,null,o.a.createElement(no,null,s.length," likes",o.a.createElement(sn,null),o.a.createElement(ao,{onClick:function(){v(!b)},text:!0},r.length," comments")),o.a.createElement(to,null,o.a.createElement(Ii,{fullWidth:!0,withText:!0,user:n,postId:l,likes:s}),o.a.createElement(bn,{fullWidth:!0,text:!0,onClick:function(){v(!0)}},o.a.createElement(nn,{icon:"comment"})," ",o.a.createElement(sn,{inline:!0,left:"xxs"})," ",o.a.createElement("b",null,"Comment")))),b&&o.a.createElement(o.a.Fragment,null,o.a.createElement(sn,{top:"xs"},o.a.createElement(io,null),o.a.createElement(pa,{post:{id:l,author:n},focus:b})),r.length>0&&o.a.createElement(io,null),o.a.createElement(ro,null,r.map((function(e){return o.a.createElement(_a,{key:e.id,comment:e,postId:l,postAuthor:n})})))))))})),co=t(6),uo=t.n(co),so=function(e){var n=e.data,t=e.dataKey,r=e.fetchMore,a=e.variables,o=e.count,c=e.children,u=Object(i.useMemo)((function(){return Object(N.a)(R.a.mark((function e(){var i,c,s,l,m;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return r({variables:Object(w.a)({},a,{skip:n.length}),updateQuery:function(e,n){var r=n.fetchMoreResult,a=Object(mn.get)(e,t),i=Object(mn.get)(r,t);return Object(mn.set)(e,t,Object(mn.uniqBy)([].concat(Object(A.a)(a),Object(A.a)(i)),"id"))}})},c=window.innerHeight,s=document.documentElement.scrollTop,l=document.documentElement.offsetHeight,m=c+s>l-l/3,!(n.length>=o)){e.next=8;break}return window.removeEventListener("scroll",u),e.abrupt("return");case 8:m&&(window.removeEventListener("scroll",u),i());case 9:case"end":return e.stop()}}),e)})))}),[o,n.length,t,r,a]);return Object(i.useEffect)((function(){return window.addEventListener("scroll",u),function(){return window.removeEventListener("scroll",u)}}),[u]),c(n)};so.propTypes={data:uo.a.array.isRequired,dataKey:uo.a.string.isRequired,count:uo.a.number.isRequired,fetchMore:uo.a.func.isRequired,variables:uo.a.object.isRequired,children:uo.a.func.isRequired};var lo=so;function mo(){var e=Object(D.a)(["\n  width: ",";\n  height: ",";\n  display: ",";\n  margin-top: ",";\n  margin-left: ",";\n  margin-right: ",";\n  margin-bottom: ",";\n  background-color: ",";\n  border-radius: ",";\n"]);return mo=function(){return e},e}var fo=s.c.div(mo(),(function(e){return e.width&&"".concat(e.width,"px")}),(function(e){return e.height&&"".concat(e.height,"px")}),(function(e){return e.inline&&"inline-block"}),(function(e){return e.theme.spacing[e.top]}),(function(e){return e.theme.spacing[e.left]}),(function(e){return e.theme.spacing[e.right]}),(function(e){return e.theme.spacing[e.bottom]}),(function(e){return e.theme.colors.grey[200]}),(function(e){return e.radius?e.theme.radius[e.radius]:e.theme.radius.sm})),ho=function(e){var n=e.count,t=e.width,r=e.height,a=e.inline,i=e.top,c=e.right,u=e.bottom,s=e.left,l=e.radius;return function(){for(var e=[],m=0;m<n;m++)e.push(o.a.createElement(fo,{key:m,top:i,left:s,right:c,width:t,height:r,inline:a,bottom:u,radius:l}));return e}()};ho.defaultProps={count:1};var po=ho,go=function(){var e=U(),n=Object(P.a)(e,2)[1],t=function(e,t,r){n({type:"SET_MESSAGE",payload:{type:t,text:e,autoClose:r}})};return{success:function(e,n){return t(e,On.SUCCESS,n)},info:function(e,n){return t(e,On.INFO,n)},warning:function(e,n){return t(e,On.WARNING,n)},error:function(e,n){return t(e,On.ERROR,n)}}};function bo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return bo=function(){return e},e}function vo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-top: 1px solid ",";\n  padding: "," 0;\n"]);return vo=function(){return e},e}function xo(){var e=Object(D.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]);return xo=function(){return e},e}function Eo(){var e=Object(D.a)(["\n  width: 150px;\n  height: 150px;\n  overflow: hidden;\n  flex-shrink: 0;\n  box-shadow: ",";\n"]);return Eo=function(){return e},e}function wo(){var e=Object(D.a)(["\n  width: 100%;\n  margin: 0 ",";\n  padding-left: ",";\n  padding-top: ",";\n  border: 0;\n  outline: none;\n  resize: none;\n  transition: 0.1s ease-out;\n  height: ",";\n  font-size: ",";\n  background-color: ",";\n  border-radius: ",";\n"]);return wo=function(){return e},e}function Oo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: "," 0;\n"]);return Oo=function(){return e},e}function jo(){var e=Object(D.a)(["\n  border: 0;\n  border: 1px solid ",";\n"]);return jo=function(){return e},e}var yo=Object(s.c)(cn)(jo(),(function(e){return e.theme.colors.border.main})),ko=s.c.div(Oo(),(function(e){return e.theme.spacing.sm})),Io=s.c.textarea(wo(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.xs}),(function(e){return e.focus?"80px":"40px"}),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.colors.grey[100]}),(function(e){return e.theme.radius.md})),Co=s.c.div(Eo(),(function(e){return e.theme.shadows.sm})),zo=s.c.img(xo()),So=s.c.div(vo(),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.spacing.sm})),Uo=s.c.div(bo()),Mo=function(){var e=U(),n=Object(P.a)(e,1)[0].auth,t=Object(i.useState)(""),r=Object(P.a)(t,2),a=r[0],c=r[1],u=Object(i.useState)(""),s=Object(P.a)(u,2),l=s[0],m=s[1],f=Object(i.useState)(!1),d=Object(P.a)(f,2),h=d[0],p=d[1],g=Object(i.useState)(""),b=Object(P.a)(g,2),v=b[0],x=b[1],E=(go(),function(){c(""),m(""),p(!1),x("")}),w=function(){return p(!0)},O=function(e){return c(e.target.value)},j=function(){var e=Object(N.a)(R.a.mark((function e(n,t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(),E();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return o.a.createElement(aa.a,{mutation:V,variables:{input:{title:a,image:l,authorId:n.user.id}},refetchQueries:function(){return[{query:Z,variables:{userId:n.user.id,skip:0,limit:6}},{query:ve},{query:be,variables:{username:n.user.username,skip:0,limit:6}}]}},(function(e,t){var r=t.loading,i=t.error,c=r||!r&&!l&&!a;return o.a.createElement(o.a.Fragment,null,h&&o.a.createElement(ln,{onClick:E}),o.a.createElement(yo,{zIndex:h?"md":"xs",color:"white",radius:"sm",padding:"sm"},o.a.createElement("form",{onSubmit:function(n){return j(n,e)}},o.a.createElement(ko,null,o.a.createElement(nt,{image:n.user.image,size:40}),o.a.createElement(Io,{type:"textarea",name:"title",focus:h,value:a,onFocus:w,onChange:O,placeholder:"Ask your questions"})),l&&o.a.createElement(sn,{bottom:"sm"},o.a.createElement(Co,null,o.a.createElement(zo,{src:URL.createObjectURL(l)}))),h&&o.a.createElement(So,null,o.a.createElement(Uo,null,o.a.createElement(bn,{text:!0,type:"button",onClick:E},"Cancel"),o.a.createElement(bn,{disabled:c,type:"submit"},"Share"))),i||v&&o.a.createElement(sn,{top:"xs",bottom:"sm"},o.a.createElement(Gn,{size:"xs"},i?"Something went wrong, please try again.":v)))))}))};function Ro(){var e=Object(D.a)(["\n  text-decoration: underline;\n  font-weight: ",";\n"]);return Ro=function(){return e},e}function Ao(){var e=Object(D.a)(["\n  padding: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  margin-top: ",";\n  background-color: ",";\n"]);return Ao=function(){return e},e}s.c.div(Ao(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.spacing.lg}),(function(e){return e.theme.colors.white}));var No=Object(s.c)(Bn)(Ro(),(function(e){return e.theme.font.weight.bold})),Po=function(){var e=U(),n=Object(P.a)(e,1)[0].auth,t=Object(i.useState)(null),r=Object(P.a)(t,2),a=r[0],c=r[1],u=function(){window.history.pushState("","","/"),c(null)},s={userId:n&&n.user&&n.user.id,skip:0,limit:6};return o.a.createElement(cn,{maxWidth:"sm"},o.a.createElement(va,null),o.a.createElement(sn,{top:"lg"}),o.a.createElement(Mo,null),o.a.createElement(aa.b,{query:Z,variables:s,notifyOnNetworkStatusChange:!0},(function(e){var n=e.data,t=e.loading,r=e.fetchMore,l=e.networkStatus;if(t&&1===l)return o.a.createElement(po,{height:500,bottom:"lg",top:"lg",count:6});var m=n.getFollowedPosts,f=m.posts,d=m.count;return f.length?o.a.createElement(lo,{data:f,dataKey:"getFollowedPosts.posts",count:parseInt(d),variables:s,fetchMore:r},(function(e){var n=t&&3===l&&d!==e.length;return o.a.createElement(i.Fragment,null,e.map((function(e){return o.a.createElement(i.Fragment,{key:e.id},o.a.createElement(xi,{open:a===e.id,onClose:u},o.a.createElement(li,{id:e.id,closeModal:u})),o.a.createElement(sn,{bottom:"lg",top:"lg"},o.a.createElement(oo,{author:e.author,imagePublicId:e.imagePublicId,postId:e.id,comments:e.comments,createdAt:e.createdAt,title:e.title,image:e.image,likes:e.likes,openModal:function(){return n=e.id,window.history.pushState("","",Object(q.f)(mt,{id:n})),void c(n);var n}})))})),n&&o.a.createElement(Tn,{top:"lg"}))})):o.a.createElement("div",null,o.a.createElement(No,{to:Object(q.f)("/search")},"Explore new posts"))})))};function $o(){var e=Object(D.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]);return $o=function(){return e},e}function To(){var e=Object(D.a)(["\n  position: relative;\n  width: 180px;\n  height: 180px;\n  display: block;\n  overflow: hidden;\n  cursor: ",";\n  border-radius: 50%;\n  border: 4px solid ",";\n  background-color: ",";\n\n  &:hover "," {\n    opacity: 1;\n    visibility: visible;\n  }\n"]);return To=function(){return e},e}function qo(){var e=Object(D.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  visibility: hidden;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.6);\n  color: ",";\n  opacity: 0;\n  transition: visibility 0.2s linear, opacity 0.2s linear;\n"]);return qo=function(){return e},e}function Do(){var e=Object(D.a)(["\n  display: none;\n"]);return Do=function(){return e},e}var Fo=s.c.input(Do()),_o=s.c.div(qo(),(function(e){return e.theme.colors.white})),Lo=s.c.label(To(),(function(e){return e.authUser&&"pointer"}),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.colors.white}),_o),Wo=s.c.img($o()),Qo=Object(St.a)((function(e){var n=e.userId,t=e.image,r=e.imagePublicId,a=(e.username,e.client),c=U(),u=Object(P.a)(c,1)[0].auth,s=Object(i.useState)(!1),l=Object(P.a)(s,2),m=l[0],f=l[1],d=go(),h=function(){var e=Object(N.a)(R.a.mark((function e(n){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),t=n.target.files[0],n.target.value="",t){e.next=5;break}return e.abrupt("return");case 5:if(!(t.size>=2e6)){e.next=9;break}return f(!1),d.error("File size should be less then ".concat(2,"MB")),e.abrupt("return");case 9:return e.prev=9,e.next=12,a.mutate({mutation:we,variables:{input:{id:u.user.id,image:t,imagePublicId:r}},refetchQueries:function(){return[{query:Z,variables:{userId:u.user.id}},{query:ve},{query:ge,variables:{username:u.user.username}}]}});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),d.error(e.t0.graphQLErrors[0].message);case 17:f(!1);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(n){return e.apply(this,arguments)}}(),p=u.user.id===n;return o.a.createElement(o.a.Fragment,null,p&&o.a.createElement(Fo,{name:"image",type:"file",id:"image",accept:"image/x-png,image/jpeg",onChange:h}),o.a.createElement(Lo,{authUser:p,htmlFor:"image"},p&&o.a.createElement(_o,null,t?"Change":"Upload"),m?o.a.createElement(Tn,{top:"xl"}):t?o.a.createElement(Wo,{src:t,alt:"profile",accept:"image/x-png,image/jpeg"}):o.a.createElement(nn,{icon:"user"})))}));function Ko(){var e=Object(D.a)(["\n  padding: 0 ",";\n  color: ",";\n  white-space: nowrap;\n\n  @media (min-width: ",") {\n    padding: 0 ",";\n  }\n"]);return Ko=function(){return e},e}function Bo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  font-size: ",";\n  margin-top: ",";\n"]);return Bo=function(){return e},e}function Go(){var e=Object(D.a)(["\n  width: 8px;\n  height: 8px;\n  background-color: ",";\n  margin-left: ",";\n  border-radius: 50%;\n"]);return Go=function(){return e},e}function Ho(){var e=Object(D.a)(["\n  text-decoration: none;\n  font-size: ",";\n"]);return Ho=function(){return e},e}function Jo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-left: ",";\n"]);return Jo=function(){return e},e}function Vo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: ",";\n  position: relative;\n\n  "," {\n    font-size: ",";\n  }\n\n  @media (min-width: ",") {\n    "," {\n      font-size: ",";\n    }\n  }\n"]);return Vo=function(){return e},e}function Zo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 40px;\n"]);return Zo=function(){return e},e}function Yo(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Yo=function(){return e},e}var Xo=s.c.div(Yo()),ec=s.c.div(Zo()),nc=s.c.div(Vo(),(function(e){return e.theme.spacing.sm}),Jn,(function(e){return e.theme.font.size.lg}),(function(e){return e.theme.screen.md}),Jn,(function(e){return e.theme.font.size.xl})),tc=s.c.div(Jo(),(function(e){return e.theme.spacing.sm})),rc=Object(s.c)(T.b)(Ho(),(function(e){return e.theme.font.size.xs})),ac=s.c.div(Go(),(function(e){return e.theme.colors.success}),(function(e){return e.theme.spacing.sm})),ic=s.c.div(Bo(),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.spacing.sm})),oc=s.c.div(Ko(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.colors.grey[800]}),(function(e){return e.theme.screen.md}),(function(e){return e.theme.spacing.lg})),cc=function(e){var n=e.user,t=U(),r=Object(P.a)(t,1)[0].auth,a=Object($.d)(ze,{variables:{authUserId:r.user.id,userId:n.id}}),i=a.data,c=a.loading,u=n.isOnline;return!c&&i&&(u=i.isUserOnline.isOnline),o.a.createElement(Xo,null,o.a.createElement(ec,null,o.a.createElement(Qo,{userId:n.id,image:n.image,imagePublicId:n.imagePublicId,username:n.username}),o.a.createElement(nc,null,o.a.createElement(Jn,null,n.fullName),u&&r.user.id!==n.id&&o.a.createElement(ac,null),r.user.id!==n.id&&o.a.createElement(tc,null,o.a.createElement(ka,{user:n}),o.a.createElement(sn,{left:"sm"}),o.a.createElement(rc,{to:Object(q.f)(lt,{userId:n.id})},"Message")))),o.a.createElement(ic,null,o.a.createElement(oc,null,o.a.createElement("b",null,n.posts.length," ")," posts"),o.a.createElement(oc,null,o.a.createElement("b",null,n.followers.length," ")," followers"),o.a.createElement(oc,null,o.a.createElement("b",null,n.following.length," ")," following")))},uc=function(e){var n=e.username,t=Object(i.useState)(!1),r=Object(P.a)(t,2),a=r[0],c=r[1],u=Object(i.useState)(""),s=Object(P.a)(u,2),l=s[0],m=s[1],f=function(){window.history.pushState("","",Object(q.f)("/:username",{username:n})),c(!1)},d={username:n,skip:0,limit:6};return o.a.createElement(aa.b,{query:be,variables:d,notifyOnNetworkStatusChange:!0},(function(e){var n=e.data,t=e.loading,r=e.fetchMore,u=e.networkStatus;if(t&&1===u)return o.a.createElement(po,{height:500,bottom:"lg",top:"lg",count:6});var s=n.getUserPosts,h=s.posts,p=s.count;return!h.length>0?o.a.createElement(sn,{bottom:"lg"},"No posts yet."):o.a.createElement(lo,{data:h,dataKey:"getUserPosts.posts",count:parseInt(p),variables:d,fetchMore:r},(function(e){return e.map((function(n,r){var s=t&&3===u&&e.length-1===r;return o.a.createElement(i.Fragment,{key:n.id},l===n.id&&o.a.createElement(xi,{open:a,onClose:f},o.a.createElement(li,{id:n.id,closeModal:f})),o.a.createElement(sn,{bottom:"lg"},o.a.createElement(oo,{author:n.author,postId:n.id,imagePublicId:n.imagePublicId,comments:n.comments,title:n.title,image:n.image,likes:n.likes,createdAt:n.createdAt,openModal:function(){return e=n.id,window.history.pushState("","",Object(q.f)(mt,{id:e})),m(e),void c(!0);var e}})),s&&o.a.createElement(Tn,{top:"lg"}))}))}))}))};function sc(){var e=Object(D.a)(["\n  width: 100%;\n\n  @media (min-width: ",") {\n    margin-left: ",";\n    padding: 0;\n  }\n"]);return sc=function(){return e},e}var lc=s.c.div(sc(),(function(e){return e.theme.screen.lg}),(function(e){return e.theme.spacing.lg})),mc=Object(q.h)((function(e){var n=e.match,t=U(),r=Object(P.a)(t,1)[0].auth,a=n.params.username;return o.a.createElement(lc,null,o.a.createElement(va,{title:a}),o.a.createElement(aa.b,{query:ge,variables:{username:a}},(function(e){var n=e.data,t=e.loading,i=e.error;return t?o.a.createElement(cn,{padding:"xxs"},o.a.createElement(po,{height:350}),o.a.createElement(cn,{maxWidth:"sm"},o.a.createElement(sn,{top:"lg",bottom:"lg"},o.a.createElement(po,{height:82})))):i||!n.getUser?"Not Found":o.a.createElement(cn,{padding:"xxs"},o.a.createElement(cc,{user:n.getUser}),o.a.createElement(cn,{maxWidth:"sm"},o.a.createElement(sn,{top:"lg",bottom:"lg"},a===r.user.username&&o.a.createElement(Mo,null)),o.a.createElement(uc,{username:a})))})))})),fc=Object(q.h)((function(e){var n=e.match;return o.a.createElement(un,null,o.a.createElement(li,{usedInModal:!1,id:n.params.id}))}));function dc(){var e=Object(D.a)(["\n  margin-top: ",";\n  font-size: ",";\n  color: ",";\n  text-overflow: ellipsis;\n"]);return dc=function(){return e},e}function hc(){var e=Object(D.a)(["\n  width: 8px;\n  height: 8px;\n  background-color: ",";\n  border-radius: 50%;\n"]);return hc=function(){return e},e}function pc(){var e=Object(D.a)(["\n  text-overflow: ellipsis;\n  width: 100%;\n"]);return pc=function(){return e},e}function gc(){var e=Object(D.a)(["\n  width: 100%;\n  font-size: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return gc=function(){return e},e}function bc(){var e=Object(D.a)(["\n  width: 100%;\n  display: none;\n  padding: 0 ",";\n\n  @media (min-width: ",") {\n    display: block;\n  }\n"]);return bc=function(){return e},e}function vc(){var e=Object(D.a)(["\n  width: 100%;\n  padding: "," ",";\n  margin-bottom: ",";\n  border-radius: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  text-decoration: none;\n  color: ",";\n\n  @media (max-width: ",") {\n    ",";\n  }\n\n  &.selected {\n    background-color: ",";\n  }\n"]);return vc=function(){return e},e}function xc(){var e=Object(D.a)(["\n  margin-top: ",";\n  padding: 0 ",";\n"]);return xc=function(){return e},e}function Ec(){var e=Object(D.a)(["\n  display: none;\n  border-bottom: 1px solid ",";\n\n  @media (min-width: ",") {\n    display: block;\n  }\n"]);return Ec=function(){return e},e}function wc(){var e=Object(D.a)(["\n  width: 40px;\n  height: 40px;\n  background-color: ",";\n  border-radius: 50%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]);return wc=function(){return e},e}function Oc(){var e=Object(D.a)(["\n  display: none;\n  color: ",";\n  margin: 0;\n\n  @media (min-width: ",") {\n    display: block;\n  }\n"]);return Oc=function(){return e},e}function jc(){var e=Object(D.a)(["\n  border-bottom: 1px solid ",";\n  height: 60px;\n  padding: 0 ",";\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  @media (min-width: ",") {\n    justify-content: space-between;\n  }\n"]);return jc=function(){return e},e}function yc(){var e=Object(D.a)(["\n  width: 80px;\n  height: 100%;\n  border-right: 1px solid ",";\n\n  @media (min-width: ",") {\n    width: 330px;\n  }\n"]);return yc=function(){return e},e}var kc=s.c.div(yc(),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.screen.lg})),Ic=s.c.div(jc(),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.screen.lg})),Cc=s.c.h3(Oc(),(function(e){return e.theme.colors.text.primary}),(function(e){return e.theme.screen.lg})),zc=Object(s.c)(T.c)(wc(),(function(e){return e.theme.colors.grey[200]})),Sc=s.c.div(Ec(),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.screen.lg})),Uc=s.c.div(xc(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.xxs})),Mc=Object(s.c)(T.c)(vc(),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.radius.md}),(function(e){return e.theme.colors.text.primary}),(function(e){return e.theme.screen.lg}),(function(e){return!e.seen&&"\n        background-color: ".concat(e.theme.colors.primary.light,";\n      ")}),(function(e){return e.theme.colors.grey[100]})),Rc=s.c.div(bc(),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.screen.lg})),Ac=s.c.div(gc(),(function(e){return e.theme.font.size.sm})),Nc=s.c.div(pc()),Pc=s.c.div(hc(),(function(e){return e.theme.colors.primary.light})),$c=s.c.div(dc(),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.colors.grey[500]})),Tc=Object(q.h)((function(e){var n=e.location,t=e.authUser,r=Object($.c)(Ce,{variables:{authUserId:t.id}}),a=r.subscribeToMore,c=r.data,u=r.loading;return Object(i.useEffect)((function(){var e=a({document:Te,updateQuery:function(e,n){var t=n.subscriptionData;if(!t.data)return e;var r=t.data.newConversation,a=e.getConversations;return a.some((function(e){return e.id===r.id}))?e:(delete r.receiverId,{getConversations:[r].concat(Object(A.a)(a))})}});return function(){e()}}),[a]),o.a.createElement(kc,null,o.a.createElement(Ic,null,o.a.createElement(Cc,null,"Chats"),o.a.createElement(zc,{exact:!0,activeClassName:"selected",to:Object(q.f)(lt,{userId:"new"})},o.a.createElement(nn,{icon:"user-edit"}))),o.a.createElement(Sc,null,o.a.createElement(zt,{location:n,backgroundColor:"white",forMessage:!0,placeholder:"Search message"})),u&&o.a.createElement(qn,{top:"xl"}),!u&&o.a.createElement(Uc,null,c.getConversations.map((function(e){var n=!e.lastMessageSender&&!e.seen;return o.a.createElement(Mc,{key:e.id,activeClassName:"selected",to:"/messages/".concat(e.id),seen:n?0:1},o.a.createElement("span",null,o.a.createElement(nt,{image:e.image,size:50})),o.a.createElement(Rc,null,o.a.createElement(Ac,null,o.a.createElement(Nc,null,e.fullName),n&&o.a.createElement(Pc,null)),o.a.createElement($c,null,e.lastMessageSender&&"You:"," ",e.lastMessage)))}))))}));function qc(){var e=Object(D.a)(["\n  margin-left: ",";\n  align-self: center;\n"]);return qc=function(){return e},e}function Dc(){var e=Object(D.a)(["\n  height: 38px;\n  border-radius: ",";\n  background-color: ",";\n"]);return Dc=function(){return e},e}function Fc(){var e=Object(D.a)(["\n  background-color: ",";\n  position: sticky;\n  bottom: 0;\n  width: 100%;\n  display: flex;\n  padding: ",";\n"]);return Fc=function(){return e},e}function _c(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  max-width: 300px;\n  line-height: 21px;\n  font-size: ",";\n  padding: "," ",";\n  border-radius: ",";\n  color: ",";\n  background-color: ",";\n"]);return _c=function(){return e},e}function Lc(){var e=Object(D.a)(["\n  display: flex;\n  position: relative;\n  justify-content: ",";\n  margin: "," 0;\n\n  &:hover "," {\n    display: block;\n  }\n"]);return Lc=function(){return e},e}function Wc(){var e=Object(D.a)(["\n  position: absolute;\n  bottom: -",";\n  left: ",";\n  right: -",";\n  display: none;\n  font-size: ",";\n  color: ",";\n"]);return Wc=function(){return e},e}function Qc(){var e=Object(D.a)(["\n  flex: 1;\n"]);return Qc=function(){return e},e}function Kc(){var e=Object(D.a)(["\n  padding: 0 ",";\n  overflow-y: auto;\n  height: 100vh;\n  margin-top: -120px;\n  padding-top: 120px;\n  display: flex;\n  flex-direction: column;\n\n  ::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: ",";\n    visibility: hidden;\n\n    &:hover {\n      background-color: ",";\n    }\n  }\n\n  &:hover {\n    ::-webkit-scrollbar-thumb {\n      visibility: visible;\n    }\n  }\n"]);return Kc=function(){return e},e}var Bc=s.c.div(Kc(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors.grey[500]}),(function(e){return e.theme.radius.lg}),(function(e){return e.theme.colors.grey[600]})),Gc=s.c.div(Qc()),Hc=s.c.span(Wc(),(function(e){return e.theme.spacing.sm}),(function(e){return!e.userMessage&&e.theme.spacing.lg}),(function(e){return e.userMessage&&0}),(function(e){return e.theme.font.size.tiny}),(function(e){return e.theme.colors.text.secondary})),Jc=s.c.div(Lc(),(function(e){return e.userMessage&&"flex-end"}),(function(e){return e.theme.spacing.md}),Hc),Vc=s.c.div(_c(),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.spacing.xs}),(function(e){return e.theme.radius.lg}),(function(e){return e.userMessage&&e.theme.colors.white}),(function(e){return e.userMessage?e.theme.colors.primary.light:e.theme.colors.grey[200]})),Zc=s.c.form(Fc(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.spacing.xxs})),Yc=Object(s.c)(En)(Dc(),(function(e){return e.theme.radius.lg}),(function(e){return e.theme.colors.grey[200]})),Xc=Object(s.c)(bn)(qc(),(function(e){return e.theme.spacing.sm})),eu=function(e){var n=e.messages,t=e.authUser,r=e.chatUser,a=e.data,c=e.match,u=Object(i.useRef)(null),s=Object(i.useState)(""),l=Object(P.a)(s,2),m=l[0],f=l[1],d=Object($.b)($e),h=Object(P.a)(d,1)[0];Object(i.useEffect)((function(){u.current&&u.current.scrollIntoView()}),[u,a]);var p=function(e){e.preventDefault(),m&&(f(""),h({variables:{input:{sender:t.id,receiver:r?r.id:null,message:m}},refetchQueries:function(e){var n=e.data;if(n&&n.createMessage&&n.createMessage.isFirstMessage)return[{query:Ce,variables:{authUserId:t.id}}]}}))};return o.a.createElement(Bc,null,o.a.createElement(Gc,null,n.map((function(e){var n=t.id===e.sender.id;return o.a.createElement(Jc,{userMessage:n,key:e.id},!n&&o.a.createElement(sn,{right:"xs"},o.a.createElement(nt,{image:e.sender.image})),o.a.createElement(Vc,{userMessage:n},e.message),o.a.createElement(Hc,{userMessage:n},function(e){var n=new Date(parseInt(e)),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()+1],r=n.getDay(),a=n.getFullYear(),i=n.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});return"".concat(t," ").concat(r,", ").concat(a," ").concat(i)}(e.createdAt)))})),o.a.createElement("div",{ref:u})),"new"!==c.params.userId&&r&&o.a.createElement(Zc,{onSubmit:p},o.a.createElement(Yc,{placeholder:"Type a message",value:m,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&p(e)}}),o.a.createElement(Xc,{type:"submit",ghost:!0},o.a.createElement(nn,{icon:"paper-plan"}))))};function nu(){var e=Object(D.a)(["\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background-color: ",";\n  margin-left: ",";\n  border-radius: 50%;\n"]);return nu=function(){return e},e}function tu(){var e=Object(D.a)(["\n  font-size: ",";\n  color: ",";\n  font-weight: ",";\n"]);return tu=function(){return e},e}function ru(){var e=Object(D.a)(["\n  padding-left: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n"]);return ru=function(){return e},e}function au(){var e=Object(D.a)(["\n  margin: 0 ",";\n  padding: "," ",";\n  border-radius: ",";\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n"]);return au=function(){return e},e}function iu(){var e=Object(D.a)(["\n  margin-top: 1px;\n"]);return iu=function(){return e},e}function ou(){var e=Object(D.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0 ",";\n  color: ",";\n  font-size: ",";\n"]);return ou=function(){return e},e}function cu(){var e=Object(D.a)(["\n  position: relative;\n  background-color: ",";\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 60px;\n  border-bottom: 1px solid ",";\n  z-index: 1;\n"]);return cu=function(){return e},e}var uu=s.c.div(cu(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.border.main})),su=s.c.div(ou(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors.text.secondary}),(function(e){return e.theme.font.size.xs})),lu=s.c.div(iu()),mu=Object(s.c)(T.b)(au(),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.radius.md})),fu=s.c.div(ru(),(function(e){return e.theme.spacing.xs})),du=s.c.div(tu(),(function(e){return e.theme.font.size.sm}),(function(e){return e.theme.colors.text.primary}),(function(e){return e.theme.font.weight.bold})),hu=s.c.div(nu(),(function(e){return e.theme.colors.success}),(function(e){return e.theme.spacing.xs})),pu=Object(q.h)((function(e){var n=e.location,t=e.match,r=e.chatUser,a=U(),i=Object(P.a)(a,1)[0].auth,c=Object($.d)(ze,{variables:{authUserId:i.user.id,userId:r?r.id:null},skip:!r}),u=c.data;return!c.loading&&u&&r&&(r.isOnline=u.isUserOnline.isOnline),"new"!==t.params.userId&&r?r?o.a.createElement(uu,null,o.a.createElement(mu,{to:Object(q.f)("/:username",{username:r.username})},o.a.createElement(nt,{image:r.image,size:40}),o.a.createElement(fu,null,o.a.createElement(du,null,r.fullName),r.isOnline&&o.a.createElement(hu,null)))):null:o.a.createElement(uu,null,o.a.createElement(su,null,o.a.createElement(lu,null,"To:"),o.a.createElement(zt,{location:n,backgroundColor:"white",hideIcon:!0,forMessage:!0,placeholder:"Type the name of a person",autoFocus:!0})))}));function gu(){var e=Object(D.a)(["\n  width: 100%;\n  height: 100%;\n"]);return gu=function(){return e},e}var bu=s.c.div(gu()),vu=function(e){var n=e.match,t=e.authUser,r=n.params.userId,a=Object($.a)(),c=Object($.c)(ge,{variables:{id:r},skip:"new"===r}),u=c.data,s=c.loading,l=Object($.c)(Ne,{variables:{authUserId:t.id,userId:r},skip:"new"===r,fetchPolicy:"network-only"}),m=l.subscribeToMore,f=l.data,d=l.loading,h=Object(i.useCallback)(Object(N.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.mutate({mutation:qe,variables:{input:{receiver:t.id,sender:r}},refetchQueries:function(){return[{query:Ce,variables:{authUserId:t.id}},{query:ve}]}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])}))),[t.id,a,r]);if(Object(i.useEffect)((function(){var e=m({document:Pe,variables:{authUserId:t.id,userId:r},updateQuery:function(e,n){var t=n.subscriptionData;if(!t.data)return e;h();var r=t.data.messageCreated;return{getMessages:[].concat(Object(A.a)(e.getMessages),[r])}}});return function(){e()}}),[t.id,r,m,h]),Object(i.useEffect)((function(){"new"!==r&&h()}),[r,h]),s||d)return o.a.createElement(bu,null,o.a.createElement(qn,null));var p=null;return u&&u.getUser&&(p=u.getUser),o.a.createElement(bu,null,o.a.createElement(pu,{match:n,chatUser:p}),o.a.createElement(eu,{authUser:t,messages:f?f.getMessages:[],chatUser:p,data:f,match:n}))};function xu(){var e=Object(D.a)(["\n  background-color: ",";\n  position: relative;\n  margin-top: -","px;\n  padding-top: ","px;\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  flex-direction: row;\n\n  @media (min-width: ",") {\n    margin-left: ",";\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n  }\n"]);return xu=function(){return e},e}var Eu=s.c.div(xu(),(function(e){return e.theme.colors.white}),60,60,(function(e){return e.theme.screen.md}),(function(e){return e.theme.spacing.lg}),(function(e){return e.theme.colors.border.main}),(function(e){return e.theme.colors.border.main})),wu=function(e){var n=e.match,t=U(),r=Object(P.a)(t,1)[0].auth;return o.a.createElement(Eu,null,o.a.createElement(Tc,{authUser:r.user,match:n}),o.a.createElement(vu,{match:n,authUser:r.user}))};function Ou(){var e=Object(D.a)(["\n  font-size: ",";\n"]);return Ou=function(){return e},e}function ju(){var e=Object(D.a)(["\n  max-width: 200px;\n  font-weight: ",";\n"]);return ju=function(){return e},e}function yu(){var e=Object(D.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  text-transform: uppercase;\n  color: ",";\n  font-size: ",";\n  background-color: ",";\n"]);return yu=function(){return e},e}function ku(){var e=Object(D.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]);return ku=function(){return e},e}function Iu(){var e=Object(D.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  overflow: hidden;\n  flex-shrink: 0;\n"]);return Iu=function(){return e},e}function Cu(){var e=Object(D.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 280px;\n  background-color: white;\n  padding: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n  transition: border-color 0.1s;\n"]);return Cu=function(){return e},e}var zu=s.c.div(Cu(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.colors.border.main})),Su=s.c.div(Iu()),Uu=s.c.img(ku()),Mu=s.c.div(yu(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.font.size.lg}),(function(e){return e.color})),Ru=s.c.span(ju(),(function(e){return e.theme.font.weight.bold})),Au=s.c.span(Ou(),(function(e){return e.theme.font.size.xs})),Nu=function(e){var n=e.user,t=Object(i.useState)(""),r=Object(P.a)(t,2),a=r[0],c=r[1],u=n.fullName,s=n.username,l=n.image;Object(i.useEffect)((function(){var e=wn.colors,n=e.primary,t=e.secondary,r=e.success,a=e.error,i=[n.main,t.main,r,a.main],o=Math.floor(Math.random()*i.length);c(i[o])}),[]);return o.a.createElement(zu,null,o.a.createElement(Bn,{to:Object(q.f)("/:username",{username:s})},o.a.createElement(Su,null,l?o.a.createElement(Uu,{src:l}):o.a.createElement(Mu,{color:a},u.split(" ").slice(0,2).join(" ").split(" ").map((function(e){return e.charAt(0)})).join(" ")))),o.a.createElement(sn,{top:"sm",bottom:"xs"},o.a.createElement(Bn,{to:Object(q.f)("/:username",{username:s})},o.a.createElement(Ru,null,u))),o.a.createElement(Au,null,"@",s),o.a.createElement(sn,{top:"lg"}),o.a.createElement(ka,{user:n}))};function Pu(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 3fr));\n  grid-auto-rows: auto;\n  grid-gap: 20px;\n  margin-bottom: ",";\n"]);return Pu=function(){return e},e}function $u(){var e=Object(D.a)(["\n  margin-top: ",";\n\n  @media (min-width: ",") {\n    margin-left: ",";\n    padding: 0;\n  }\n"]);return $u=function(){return e},e}var Tu=Object(s.c)(cn)($u(),(function(e){return e.theme.spacing.lg}),(function(e){return e.theme.screen.lg}),(function(e){return e.theme.spacing.lg})),qu=s.c.div(Pu(),(function(e){return e.theme.spacing.lg})),Du=function(){var e=U(),n={userId:Object(P.a)(e,1)[0].auth.user.id,skip:0,limit:15};return o.a.createElement(Tu,{maxWidth:"md"},o.a.createElement(va,{title:"Find new People"}),o.a.createElement(aa.b,{query:xe,variables:n,notifyOnNetworkStatusChange:!0},(function(e){var t=e.data,r=e.loading,a=e.fetchMore,c=e.networkStatus;if(r&&1===c)return o.a.createElement(qu,null,o.a.createElement(po,{height:280,count:15}));var u=t.getUsers,s=u.users,l=u.count;return!s.length>0?"No people yet.":o.a.createElement(lo,{data:s,dataKey:"getUsers.users",count:parseInt(l),variables:n,fetchMore:a},(function(e){var n=r&&3===c&&l!==e.length;return o.a.createElement(i.Fragment,null,o.a.createElement(qu,null,e.map((function(e){return o.a.createElement(Nu,{key:e.id,user:e})}))),n&&o.a.createElement(Tn,{top:"lg"}))}))})))};function Fu(){var e=Object(D.a)(["\n  overflow: hidden;\n  border-radius: ",";\n  border: 1px solid ",";\n"]);return Fu=function(){return e},e}function _u(){var e=Object(D.a)(["\n  margin-top: ",";\n"]);return _u=function(){return e},e}var Lu=Object(s.c)(cn)(_u(),(function(e){return e.theme.spacing.lg})),Wu=s.c.div(Fu(),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.colors.border.main})),Qu=function(){var e=U(),n=Object(P.a)(e,1)[0].auth,t={userId:n.user.id,skip:0,limit:50};return o.a.createElement(un,null,o.a.createElement(Lu,{maxWidth:"md"},o.a.createElement(va,{title:"".concat(n.user.username,"'s Notifications")}),o.a.createElement(aa.b,{query:Ge,variables:t,notifyOnNetworkStatusChange:!0},(function(e){var n=e.data,r=e.loading,a=e.fetchMore,i=e.networkStatus;if(r&&1===i)return o.a.createElement(po,{height:56,bottom:"xxs",count:50});var c=n.getUserNotifications,u=c.notifications,s=c.count;return u.length?o.a.createElement(lo,{data:u,dataKey:"getUserNotifications.notifications",count:parseInt(s),variables:t,fetchMore:a},(function(e){var n=r&&3===i&&s!==e.length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wu,null,e.map((function(e){return o.a.createElement(Yt,{key:e.id,notification:e,close:function(){return!1}})}))),n&&o.a.createElement(Tn,{top:"lg"}))})):"no notification yet"}))))};function Ku(){var e=Object(D.a)(["\n  width: 100%;\n  height: 300px;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  background-color: ",";\n"]);return Ku=function(){return e},e}function Bu(){var e=Object(D.a)(["\n  width: 100%;\n  position: relative;\n  cursor: pointer;\n  border-radius: ",";\n  overflow: hidden;\n\n  &:hover "," {\n    opacity: 1;\n  }\n"]);return Bu=function(){return e},e}function Gu(){var e=Object(D.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  opacity: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  transition: opacity 0.3s, visibility 0.3s;\n  background-color: rgba(0, 0, 0, 0.3);\n  color: ",";\n"]);return Gu=function(){return e},e}var Hu=s.c.div(Gu(),(function(e){return e.theme.colors.white})),Ju=s.c.div(Bu(),(function(e){return e.theme.radius.sm}),Hu),Vu=s.c.div(Ku(),(function(e){return e.theme.colors.grey[300]})),Zu=function(e){var n=e.openPostPopup,t=e.image,r=e.countLikes,a=e.countComments,c=Object(i.useState)(!1),u=Object(P.a)(c,2),s=u[0],l=u[1];return Object(i.useEffect)((function(){var e=new Image;return e.src=t,e.onload=function(){l(!0)},function(){e.onload=null}}),[t]),o.a.createElement(Ju,null,o.a.createElement(Vu,{style:s?{backgroundImage:"url(".concat(t,")")}:{}}),o.a.createElement(Hu,{onClick:n},o.a.createElement(nn,{icon:"thumbs-up"}),o.a.createElement(sn,{left:"xs",right:"lg"},r),o.a.createElement(nn,{icon:"comment"}),o.a.createElement(sn,{left:"xs"},a)))};function Yu(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(260px, 3fr));\n  grid-auto-rows: auto;\n  grid-gap: 20px;\n"]);return Yu=function(){return e},e}function Xu(){var e=Object(D.a)(["\n  margin-top: ",";\n  margin-bottom: ",";\n\n  @media (min-width: ",") {\n    margin-left: ",";\n    padding: 0;\n  }\n"]);return Xu=function(){return e},e}var es=Object(s.c)(cn)(Xu(),(function(e){return e.theme.spacing.lg}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.screen.lg}),(function(e){return e.theme.spacing.lg})),ns=s.c.div(Yu()),ts=function(){var e=U(),n=Object(P.a)(e,1)[0].auth,t=Object(i.useState)(null),r=Object(P.a)(t,2),a=r[0],c=r[1],u=function(){window.history.pushState("","","/explore"),c(null)},s={authUserId:n.user.id,skip:0,limit:15};return o.a.createElement(es,{maxWidth:"md"},o.a.createElement(va,{title:"Explore New Posts and Users"}),o.a.createElement(aa.b,{query:Y,variables:s,notifyOnNetworkStatusChange:!0},(function(e){var n=e.data,t=e.loading,r=e.fetchMore,l=e.networkStatus;if(t&&1===l)return o.a.createElement(ns,null,o.a.createElement(po,{height:300,count:15}));var m=n.getPosts,f=m.posts,d=m.count;return!f.length>0?"No posts yet.":o.a.createElement(lo,{data:f,dataKey:"getPosts.posts",count:parseInt(d),variables:s,fetchMore:r},(function(e){var n=t&&3===l&&d!==e.length;return o.a.createElement(i.Fragment,null,o.a.createElement(ns,null,e.map((function(e){return o.a.createElement(i.Fragment,{key:e.id},o.a.createElement(xi,{open:a===e.id,onClose:u},o.a.createElement(li,{id:e.id,closeModal:u})),o.a.createElement(Zu,{image:e.image,countLikes:e.likes.length,countComments:e.comments.length,openPostPopup:function(){return n=e.id,window.history.pushState("","",Object(q.f)(mt,{id:n})),void c(n);var n}}))}))),n&&o.a.createElement(Tn,{top:"lg"}))}))})))};function rs(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 0 auto;\n  width: 100%;\n  position: relative;\n  @media (min-width: ",") {\n    width: ",";\n  }\n  @media (min-width: ",") {\n    width: ",";\n  }\n"]);return rs=function(){return e},e}var as=s.c.div(rs(),(function(e){return e.theme.screen.md}),(function(e){return e.theme.screen.md}),(function(e){return parseInt(e.theme.screen.lg,10)+20+"px"}),(function(e){return e.theme.screen.lg})),is=Object(q.h)((function(e){var n=e.location,t=e.authUser,r=U(),a=Object(P.a)(r,2),c=a[0].auth,u=a[1],s=function(){var e="object"===typeof window,n=Object(i.useCallback)((function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}),[e]),t=Object(i.useState)(n),r=Object(P.a)(t,2),a=r[0],o=r[1];return Object(i.useEffect)((function(){if(!e)return!1;function t(){o(n())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[n,e]),a}().width>=parseInt(wn.screen.md,10),l=Object(i.useState)(s),m=Object(P.a)(l,2),f=m[0],d=m[1],h=Object(i.useRef)("");return Object(i.useEffect)((function(){u({type:"SET_AUTH_USER",payload:t})}),[u,t]),kt(h,(function(){!s&&f&&d(!1)})),Object(i.useEffect)((function(){d(s)}),[s]),Object(i.useEffect)((function(){return function(){s||d(!1)}}),[n.pathname,s]),c.user?o.a.createElement(o.a.Fragment,null,o.a.createElement(_r,{toggleSideBar:function(){return d(!f)}}),o.a.createElement(as,null,o.a.createElement(ra,{isOpen:f,sideBarRef:h}),o.a.createElement(q.d,null,o.a.createElement(q.b,{exact:!0,path:"/",component:Po}),o.a.createElement(q.b,{exact:!0,path:"/search",component:ts}),o.a.createElement(q.b,{exact:!0,path:"/people",component:Du}),o.a.createElement(q.b,{exact:!0,path:"/notifications",component:Qu}),o.a.createElement(q.b,{exact:!0,path:lt,component:wu}),o.a.createElement(q.b,{exact:!0,path:"/:username",component:mc}),o.a.createElement(q.b,{exact:!0,path:mt,component:fc})))):null}));function os(){var e=Object(D.a)(["\n  font-size: ",";\n  margin-top: ",";\n  color: ",";\n"]);return os=function(){return e},e}function cs(){var e=Object(D.a)(["\n  position: absolute;\n  top: 1px;\n"]);return cs=function(){return e},e}function us(){var e=Object(D.a)(["\n  width: 100%;\n  margin-right: 24px;\n"]);return us=function(){return e},e}function ss(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: space-between;\n  font-size: ",";\n  margin-top: ",";\n"]);return ss=function(){return e},e}var ls=s.c.div(ss(),(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.spacing.sm})),ms=Object(s.c)(sn)(us()),fs=s.c.div(cs()),ds=s.c.div(os(),(function(e){return e.theme.font.size.xxs}),(function(e){return e.theme.spacing.xxs}),(function(e){return e.theme.colors.white})),hs=Object(q.h)((function(e){var n=e.history,t=e.location,r=e.refetch,a=Object(i.useState)({emailOrUsername:"",password:""}),c=Object(P.a)(a,2),u=c[0],s=c[1],l=Object(i.useState)(""),m=Object(P.a)(l,2),f=m[0],d=m[1];Object(i.useEffect)((function(){d("")}),[t.pathname]);var h=function(e){var n=e.target,t=n.name,r=n.value;s(Object(w.a)({},u,Object(Ve.a)({},t,r)))},p=u.emailOrUsername,g=u.password;return o.a.createElement(aa.a,{mutation:je,variables:{input:{emailOrUsername:p,password:g}}},(function(e,t){var a=t.loading,i=t.error;return o.a.createElement("form",{onSubmit:function(t){return function(e,t){e.preventDefault(),p&&g?(d(""),t().then(function(){var e=Object(N.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,localStorage.setItem("token",a.signin.token),e.next=4,r();case 4:n.push("/");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())):d("All fields are required")}(t,e)}},o.a.createElement(ls,null,o.a.createElement(ms,null,function(e){var n;return f?n=f:e&&(n=e.graphQLErrors[0].message),n?o.a.createElement(fs,null,o.a.createElement(Gn,{size:"xxs",color:"white"},n)):null}(i),o.a.createElement(xn,{autoFocus:!0,type:"text",name:"emailOrUsername",values:p,onChange:h,placeholder:"Email or Username",borderColor:"white"})),o.a.createElement(ms,{left:"xs",right:"xs"},o.a.createElement(xn,{type:"password",name:"password",values:g,onChange:h,placeholder:"Password",borderColor:"white"}),o.a.createElement(Bn,{to:"/forget"},o.a.createElement(ds,null,"Forgot password?"))),o.a.createElement(bn,{disabled:a},"Log in")))}))}));function ps(){var e=Object(D.a)(["\n  width: 600px;\n"]);return ps=function(){return e},e}function gs(){var e=Object(D.a)(["\n  display: none;\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  &:hover {\n    color: ",";\n  }\n  @media (min-width: ",") {\n    display: block;\n  }\n"]);return gs=function(){return e},e}function bs(){var e=Object(D.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 0 ",";\n  @media (min-width: ",") {\n    justify-content: space-between;\n  }\n"]);return bs=function(){return e},e}function vs(){var e=Object(D.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 80px;\n  background-color: transparent;\n"]);return vs=function(){return e},e}var xs=s.c.div(vs()),Es=Object(s.c)(cn)(bs(),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.screen.md})),ws=Object(s.c)(Bn)(gs(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.font.size.sm}),(function(e){return e.theme.font.weight.bold}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.screen.md})),Os=s.c.div(ps()),js=function(e){var n=e.refetch;return o.a.createElement(xs,null,o.a.createElement(Es,{maxWidth:"lg"},o.a.createElement(ws,{to:"/"},"Relationship talks"),o.a.createElement(Os,null,o.a.createElement(hs,{refetch:n}))))},ys=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ks=/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/;function Is(){var e=Object(D.a)(["\n  padding: ",";\n  border-radius: ",";\n  background-color: rgba(255, 255, 255, 0.8);\n  width: 100%;\n  @media (min-width: ",") {\n    width: 450px;\n  }\n"]);return Is=function(){return e},e}function Cs(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-top: 60px;\n  @media (min-width: ",") {\n    justify-content: space-between;\n    margin-top: 120px;\n  }\n"]);return Cs=function(){return e},e}var zs=Object(s.c)(cn)(Cs(),(function(e){return e.theme.screen.md})),Ss=s.c.div(Is(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.screen.sm})),Us=Object(q.h)((function(e){var n=e.history,t=e.refetch,r=Object(i.useState)(""),a=Object(P.a)(r,2),c=a[0],u=a[1],s=Object(i.useState)({fullName:"",username:"",email:"",password:""}),l=Object(P.a)(s,2),m=l[0],f=l[1],d=function(e){var n=e.target,t=n.name,r=n.value;f(Object(w.a)({},m,Object(Ve.a)({},t,r)))},h=function(e,r){e.preventDefault();var a=p&&g&&v&&b?p.length>50?"Full name no more than 50 characters":ys.test(String(g).toLowerCase())?ks.test(v)?v.length>20?"Username no more than 50 characters":b.length<6&&"Password min 6 characters":"Usernames can only use letters, numbers, underscores and periods":"Enter a valid email address.":"All fields are required";if(a)return u(a),!1;r().then(function(){var e=Object(N.a)(R.a.mark((function e(r){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.data,localStorage.setItem("token",a.signup.token),e.next=4,t();case 4:n.push("/");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},p=m.fullName,g=m.email,b=m.password,v=m.username;return o.a.createElement(aa.a,{mutation:Oe,variables:{input:{fullName:p,email:g,password:b,username:v}}},(function(e,n){var t=n.loading,r=n.error;return o.a.createElement(zs,{maxWidth:"lg"},o.a.createElement(va,null),o.a.createElement(Ss,null,o.a.createElement(sn,{bottom:"md"},o.a.createElement(Jn,null,"Create an Account"),o.a.createElement(Vn,null,"Its quick and easy")),o.a.createElement("form",{onSubmit:function(n){return h(n,e)}},o.a.createElement(xn,{type:"text",name:"fullName",values:p,onChange:d,placeholder:"Full name",borderColor:"white"}),o.a.createElement(sn,{top:"xs",bottom:"xs"},o.a.createElement(xn,{type:"text",name:"email",values:g,onChange:d,placeholder:"Email",borderColor:"white"})),o.a.createElement(xn,{type:"text",name:"username",values:v,onChange:d,placeholder:"Username",borderColor:"white"}),o.a.createElement(sn,{top:"xs",bottom:"xs"},o.a.createElement(xn,{type:"password",name:"password",values:b,onChange:d,placeholder:"Password",borderColor:"white"})),function(e){var n;return c?n=c:e&&(n=e&&e.graphQLErrors[0]&&e.graphQLErrors[0].message),n?o.a.createElement(sn,{bottom:"sm",top:"sm"},o.a.createElement(Gn,null,n)):null}(r),o.a.createElement(sn,{top:"sm"}),o.a.createElement(vn,{size:"large",disabled:t},"Sign up"))))}))}));function Ms(){var e=Object(D.a)(["\n  font-size: ",";\n  line-height: 22px;\n"]);return Ms=function(){return e},e}function Rs(){var e=Object(D.a)(["\n  width: 450px;\n  margin: 0 auto;\n  background-color: ",";\n  padding: ",";\n  border-radius: ",";\n  width: 100%;\n  margin-top: 80px;\n  @media (min-width: ",") {\n    width: 450px;\n  }\n  @media (min-width: ",") {\n    margin-top: auto;\n  }\n"]);return Rs=function(){return e},e}function As(){var e=Object(D.a)(["\n  padding: 0 ",";\n"]);return As=function(){return e},e}var Ns=s.c.div(As(),(function(e){return e.theme.spacing.sm})),Ps=s.c.div(Rs(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.screen.sm}),(function(e){return e.theme.screen.md})),$s=s.c.p(Ms(),(function(e){return e.theme.font.size.xs})),Ts=function(){var e=Object(i.useState)(""),n=Object(P.a)(e,2),t=n[0],r=n[1],a=Object(i.useState)(""),c=Object(P.a)(a,2),u=c[0],s=c[1],l=Object(i.useState)(""),m=Object(P.a)(l,2),f=m[0],d=m[1],h=function(e){r(e.target.value)};return f?o.a.createElement(Ns,null,o.a.createElement(Ps,null,o.a.createElement(sn,{bottom:"sm"},o.a.createElement(Jn,null,f)))):o.a.createElement(aa.a,{mutation:ye,variables:{input:{email:t}}},(function(e,n){n.data;var a=n.loading,i=n.error;return o.a.createElement(Ns,null,o.a.createElement(va,{title:"Forgot Password"}),o.a.createElement(Ps,null,o.a.createElement(sn,{bottom:"sm"},o.a.createElement(Jn,null,"Reset Password"),o.a.createElement($s,null,"Enter the email address associated with your account, and we\u2019ll email you a link to reset your password.")),o.a.createElement("form",{onSubmit:function(n){return function(e,n){e.preventDefault();/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?(s(""),r(""),n().then(function(){var e=Object(N.a)(R.a.mark((function e(n){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.data,d(t.requestPasswordReset.message);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())):s("Enter a valid email address.")}(n,e)}},o.a.createElement(xn,{type:"text",name:"email",values:t,onChange:h,placeholder:"Email"}),u&&o.a.createElement(sn,{bottom:"sm",top:"sm"},o.a.createElement(Gn,null,u)),i&&o.a.createElement(sn,{bottom:"sm",top:"sm"},o.a.createElement(Gn,null,i.graphQLErrors.map((function(e){return o.a.createElement("div",{key:e.message},e.message)})))),o.a.createElement(sn,{top:"xs"}),o.a.createElement(bn,{disabled:a},"Send reset link"),o.a.createElement(sn,{top:"sm"},o.a.createElement(Bn,{to:"/"},"\u2190 Back to Sign Up")))))}))};function qs(){var e=Object(D.a)(["\n  width: 100%;\n  margin: 0 auto;\n  background-color: ",";\n  padding: ",";\n  border-radius: ",";\n  margin-top: 80px;\n  @media (min-width: ",") {\n    width: 450px;\n  }\n  @media (min-width: ",") {\n    margin-top: auto;\n  }\n"]);return qs=function(){return e},e}function Ds(){var e=Object(D.a)(["\n  padding: 0 ",";\n"]);return Ds=function(){return e},e}var Fs=s.c.div(Ds(),(function(e){return e.theme.spacing.sm})),_s=s.c.div(qs(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.radius.sm}),(function(e){return e.theme.screen.sm}),(function(e){return e.theme.screen.md})),Ls=Object(q.h)((function(e){var n=e.history,t=e.location,r=e.refetch,a=Object(i.useState)({password:"",confirmPassword:""}),c=Object(P.a)(a,2),u=c[0],s=c[1],l=Object(i.useState)(""),m=Object(P.a)(l,2),f=m[0],d=m[1],h=function(e){var n=e.target,t=n.name,r=n.value;s(Object(w.a)({},u,Object(Ve.a)({},t,r)))},p=u.password,g=u.confirmPassword,b=new URLSearchParams(t.search),v=b.get("email"),x=b.get("token");return o.a.createElement(Fs,null,o.a.createElement(va,{title:"Reset Password"}),o.a.createElement(_s,null,o.a.createElement(aa.b,{query:ke,variables:{email:v,token:x}},(function(e){e.loading;return e.error?o.a.createElement(Jn,null,"This token is either invalid or expired!"):o.a.createElement(aa.a,{mutation:Ie,variables:{input:{email:v,password:p,token:x}}},(function(e,t){var a=t.loading,i=t.error;return i?o.a.createElement(Jn,null,i):o.a.createElement(o.a.Fragment,null,o.a.createElement(sn,{bottom:"md"},o.a.createElement(Jn,null,"Password Reset")),o.a.createElement("form",{onSubmit:function(t){return function(e,t){e.preventDefault(),p&&g?p.length<6?d("Password min 6 characters"):p===g?(d(""),t().then(function(){var e=Object(N.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,localStorage.setItem("token",a.resetPassword.token),e.next=4,r();case 4:n.push("/");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){d(e)}))):d("Passwords don't match."):d("Enter password and Confirm password.")}(t,e)}},o.a.createElement(xn,{type:"password",name:"password",values:p,onChange:h,placeholder:"Password"}),o.a.createElement(sn,{top:"xs",bottom:"sm"},o.a.createElement(xn,{type:"password",name:"confirmPassword",values:g,onChange:h,placeholder:"Confirm Password"})),f&&o.a.createElement(sn,{bottom:"sm",top:"sm"},o.a.createElement(Gn,null,f)),o.a.createElement(bn,{disabled:a},"Reset Password")))}))}))))})),Ws=t.p+"static/media/auth-bg.e1d81745.jpg";function Qs(){var e=Object(D.a)(["\n  margin-top: 80px;\n  @media (min-width: ",") {\n    margin-top: -120px;\n  }\n"]);return Qs=function(){return e},e}function Ks(){var e=Object(D.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  @media (min-width: ",") {\n    justify-content: center;\n  }\n"]);return Ks=function(){return e},e}function Bs(){var e=Object(D.a)(["\n  background: url(",") no-repeat top / cover;\n  width: 100%;\n  height: 100vh;\n"]);return Bs=function(){return e},e}var Gs=s.c.div(Bs(),Ws),Hs=s.c.div(Ks(),(function(e){return e.theme.zIndex.lg}),(function(e){return e.theme.screen.md})),Js=s.c.div(Qs(),(function(e){return e.theme.screen.md})),Vs=function(e){var n=e.refetch;return o.a.createElement(Gs,null,o.a.createElement(ln,{transparency:"0.5"}),o.a.createElement(Hs,null,o.a.createElement(js,{refetch:n}),o.a.createElement(Js,null,o.a.createElement(q.d,null,o.a.createElement(q.b,{exact:!0,path:"/",render:function(){return o.a.createElement(Us,{refetch:n})}}),o.a.createElement(q.b,{exact:!0,path:"/forget",component:Ts}),o.a.createElement(q.b,{exact:!0,path:"reset",render:function(){return o.a.createElement(Ls,{refetch:n})}}),o.a.createElement(q.a,{to:"/"})))))},Zs=function(){var e=U(),n=Object(P.a)(e,1)[0].message,t=Object($.c)(ve),r=t.loading,a=t.subscribeToMore,c=t.data,u=t.refetch;return Object(i.useEffect)((function(){var e=a({document:Je,updateQuery:function(){var e=Object(N.a)(R.a.mark((function e(n,t){var r,a,i,o,c,u,s,l,m;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.subscriptionData).data){e.next=3;break}return e.abrupt("return",n);case 3:if(a=n.getAuthUser.newNotifications,i=r.data.notificationCreatedOrDeleted,o=i.operation,c=i.notification,"CREATE"!==o){e.next=11;break}if("notifications"!==window.location.href.split("/")[3]){e.next=8;break}return e.abrupt("return",n);case 8:u=[c].concat(Object(A.a)(a)),e.next=15;break;case 11:(l=(s=a).findIndex((function(e){return e.id===c.id})))>-1&&s.splice(l,1),u=s;case 15:return(m=n.getAuthUser).newNotifications=u,e.abrupt("return",{getAuthUser:m});case 18:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()});return function(){e()}}),[a]),Object(i.useEffect)((function(){var e=a({document:Te,updateQuery:function(e,n){var t=n.subscriptionData;if(!t.data)return e;var r=e.getAuthUser.newConversations,a=t.data.newConversation;if("messages"===window.location.href.split("/")[3])return e;var i=r.findIndex((function(e){return e.id===a.id}));i>-1&&r.splice(i,1);var o=[a].concat(Object(A.a)(r)),c=e.getAuthUser;return c.newConversations=o,{getAuthUser:c}}});return function(){e()}}),[a]),r?o.a.createElement(Tn,{top:"xl"}):o.a.createElement(T.a,null,o.a.createElement(q.d,null,c&&c.getAuthUser?o.a.createElement(q.b,{exact:!0,render:function(){return o.a.createElement(is,{authUser:c.getAuthUser})}}):o.a.createElement(q.b,{exact:!0,render:function(){return o.a.createElement(Vs,{refetch:u})}})),n.content.text&&o.a.createElement(Un,{type:n.content.type,autoClose:n.content.autoClose},n.content.text))};console.log("process env",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"http://localhost:4000/graphql",REACT_APP_WEBSOCKET_API_URL:"ws://localhost:4000/graphql",REACT_APP_FRONTEND_URL:"http://localhost:3000",REACT_APP_WEBSOCKET_TIMEOUT:"300000",REACT_APP_SITE_NAME:"Relationship talks"})),console.log("server url",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"http://localhost:4000/graphql",REACT_APP_WEBSOCKET_API_URL:"ws://localhost:4000/graphql",REACT_APP_FRONTEND_URL:"http://localhost:3000",REACT_APP_WEBSOCKET_TIMEOUT:"300000",REACT_APP_SITE_NAME:"Relationship talks"}).SERVER_URL);a.a.config();var Ys=function(e){var n=e&&e.replace("https://","ws://").replace("http://","ws://"),t=x(),r=Object(g.createUploadLink)({uri:e}),a=localStorage.getItem("token")||"",i=new p.a({uri:n,options:{timeout:"300000",reconnect:!0,connectionParams:{authorization:a}}});return v||(v=E({authLink:t,uploadLink:r,wsLink:i})),v}("http://localhost:4000/graphql");Object(c.render)(o.a.createElement(u.b,{client:Ys},o.a.createElement(u.b,{client:Ys},o.a.createElement(s.a,{theme:wn},o.a.createElement(S,null,o.a.createElement(Zs,null))))),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.9c9e7486.chunk.js.map